{"version":3,"sources":["redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/reducers/index.js","redux/types.js","utils/store.js","utils/history.js","utils/api.js","icons/icons.jsx","components/sidebar/SidebarChats.jsx","redux/actions/chat/index.js","redux/actions/auth/index.js","components/sidebar/SidebarProfile.jsx","components/forms/RenderForm.jsx","components/forms/LoginForm.jsx","components/forms/SignupForm.jsx","components/forms/NewChatForm.jsx","components/IconButton.jsx","components/ConfirmationModal.jsx","components/sidebar/Sidebar.jsx","pages/Landing.jsx","components/chats/ChatroomDisplay.jsx","components/chats/ChatContainer.jsx","pages/Chatroom.jsx","App.js","index.js"],"names":["INITIAL_STATE","isLoggedIn","_id","token","currentChatroom","user","combineReducers","auth","state","action","type","payload","chatrooms","_","mapKeys","chatroomId","messages","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","createBrowserHistory","axios","create","baseURL","headers","profileIcon","width","height","viewBox","className","fill","xmlns","fillRule","d","chatsIcon","plusIcon","pencilIconFilled","connect","createChatroom","name","userId","dispatch","a","api","post","createdBy","data","chatroom","history","push","error","setChatroom","closeChat","useState","newRoomName","setNewRoomName","onChange","e","target","value","handleForm","preventDefault","length","renderChatroomList","Object","keys","map","key","onClick","userLogout","getState","localStorage","removeItem","userDelete","userDeleted","userUpdate","formValues","patch","response","code","alert","keyValue","username","editing","setEditing","modalDisplay","setModalDisplay","renderInput","input","label","meta","touched","renderError","profileDisplay","src","avatar","alt","initialValues","pick","Field","component","moment","createdAt","format","tabIndex","disabled","style","modalConfig","title","message","btnText","btnStyle","handleDelete","reduxForm","props","onSubmit","handleSubmit","some","reset","updateValues","forEach","children","LoginForm","placeholder","required","SignupForm","NewChatForm","errorStyle","IconButton","classNames","icon","activeIcon","ConfirmationModal","Modal","show","onHide","ModalHeader","closeButton","ModalTitle","ModalBody","ModalFooter","Sidebar","setActiveIcon","icons","useEffect","id","currentTarget","setCurrentIcon","userLogin","setItem","userSignup","activeForm","setActiveForm","handleSignup","handleLogin","updateCurrentForm","messageList","useRef","newMessage","current","lastElementChild","newMessageStyles","getComputedStyle","newMessageMargin","parseInt","marginBottom","newMessageHeight","offsetHeight","visibleHeight","scrollHeight","scrollTop","ref","messageKey","timestamp","author","Math","random","fetchMessages","get","setMessage","renderChatContainer","checkAuth","getItem","fetchChatrooms","console","log","path","exact","to","process","ReactDOM","render","document","querySelector"],"mappings":"wQASMA,EAAgB,CACpBC,YAAY,EACZC,IAAK,KACLC,MAAO,KACPC,gBAAiB,2BACjBC,KAAM,I,iCCJFL,EAAgB,GCLPM,cAAgB,CAC7BC,KFWa,WAAkC,IAAjCC,EAAgC,uDAA1BR,EAAeS,EAAW,uCAC9C,OAAQA,EAAOC,MACb,IGVsB,aHetB,IGlBwB,eHuBxB,IGnBkB,SHoBhB,OAAO,2BACFF,GACAC,EAAOE,SAEd,IGvBmB,UHwBjB,OAAO,2BACFH,GACAR,GAEP,QACE,OAAOQ,IEjCXI,UDKa,WAAoC,IAAnCJ,EAAkC,uDAA1BR,EAAeS,EAAW,uCAChD,OAAOA,EAAOC,MACZ,IEZ2B,kBFazB,OAAO,2BACFF,GACAK,IAAEC,QAAQL,EAAOE,QAAS,QAEjC,IElB2B,kBFmBzB,OAAO,2BACFH,GADL,kBAEGC,EAAOE,QAAQT,IAFlB,eAGOO,EAAOE,WAGhB,IEtB0B,iBFuBxB,OAAO,2BACFH,GADL,kBAEGC,EAAOE,QAAQI,WAFlB,2BAGOP,EAAMC,EAAOE,QAAQI,aAH5B,IAIIC,SAAS,GAAD,mBACHR,EAAMC,EAAOE,QAAQI,YAAYC,UAD9B,YAEHP,EAAOE,QAAQK,eAI1B,IE1BmB,UF2BjB,MAAM,GAAN,OACIhB,GAEN,QACE,OAAOQ,IClCXS,KAAMC,MEHFC,EAAmBC,OAAOC,sCAAwCC,IAC3DC,EAAQC,YACnBC,EACAN,EAAiBO,YAAgBC,O,iBCPpBC,gB,yCCAAC,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAiD,0CACjDC,QAAS,CAAC,0BAA2B,mBCD1BC,EACX,yBAAKC,MAAM,QAAQC,OAAO,MAAMC,QAAQ,YAAYC,UAAU,eAAeC,KAAK,eAAeC,MAAM,8BACrG,0BAAMC,SAAS,UAAUC,EAAE,wPAIlBC,EACX,yBAAKR,MAAM,QAAQC,OAAO,MAAMC,QAAQ,YAAYC,UAAU,wBAAwBC,KAAK,eAAeC,MAAM,8BAC9G,0BAAMC,SAAS,UAAUC,EAAE,8MAC3B,0BAAMD,SAAS,UAAUC,EAAE,yLAUlBE,EACX,yBAAKT,MAAM,MAAMC,OAAO,MAAMC,QAAQ,YAAYC,UAAU,oBAAoBC,KAAK,eAAeC,MAAM,8BACxG,0BAAMC,SAAS,UAAUC,EAAE,oJAC3B,0BAAMD,SAAS,UAAUC,EAAE,2GAUlBG,EACX,yBAAKV,MAAM,MAAMC,OAAO,MAAMC,QAAQ,YAAYC,UAAU,oBAAoBC,KAAK,eAAeC,MAAM,8BACxG,0BAAMC,SAAS,UAAUC,EAAE,4bCoDhBI,eAPS,SAACrC,GACvB,MAAO,CACLD,KAAMC,EAAMD,KACZK,UAAWJ,EAAMI,aAImB,CAAEkC,eCpDZ,SAACC,EAAMC,GAAP,8CAAkB,WAAMC,GAAN,iBAAAC,EAAA,+EAErBC,EAAIC,KACzB,oBACA,CAAEL,OAAMM,UAAWL,IAJuB,gBAEpCM,EAFoC,EAEpCA,KAIRL,EAAS,CACPvC,KN1CyB,kBM2CzBC,QAAQ,2BAAK2C,EAAKC,UAAX,IAAqBvC,SAAU,OAExCwC,EAAQC,KAAR,iBAAuBH,EAAKC,SAASrD,MAVO,gDAY5C+C,EAAS,CACPvC,KAAM,QACNgD,MAAO,iBAdmC,yDAAlB,uDDoD4BC,YEiF/B,SAACvD,GAAD,8CAAqB,WAAM6C,GAAN,SAAAC,EAAA,sDAC9CD,EAAS,CACPvC,KPrKwB,eOsKxBC,QAAS,CAAEP,qBAHiC,2CAArB,wDFjFZyC,EAhFM,SAAC,GAAiE,IAA/DtC,EAA8D,EAA9DA,KAAMK,EAAwD,EAAxDA,UAAW+C,EAA6C,EAA7CA,YAAab,EAAgC,EAAhCA,eAAgC,KAAhBc,UAC5BC,mBAAS,KADmC,mBAC5EC,EAD4E,KAC/DC,EAD+D,KAO9EC,EAAW,SAACC,GAChBF,EAAeE,EAAEC,OAAOC,QAGpBC,EAAa,SAACH,GAClBA,EAAEI,iBACEP,EAAYQ,QAAU,IACxBxB,EAAegB,EAAavD,EAAKL,KACjC6D,EAAe,MASbQ,EAAqB,WACzB,GAAI3D,IAAc,GAGlB,OAAO4D,OAAOC,KAAK7D,GAAW8D,KAAI,SAAAC,GAChC,OACE,wBAAIA,IAAKA,EAAKtC,UAAU,kBACtB,yBAAKA,UAAU,+CACZJ,GAEH,yBAAKI,UAAU,cACb,yBAAKA,UAAU,8BACb,yBAAKuC,QAAS,kBAhBxBjB,EADsB5C,EAiBuB4D,QAf7CnB,EAAQC,KAAR,iBAAuB1C,IAFF,IAACA,GAiB6BsB,UAAU,sBAAnD,IACE,yBAAKA,UAAU,iBACZzB,EAAU+D,GAAK5B,SAKxB,yBAAKV,UAAU,qBACb,4BAASA,UAAU,0CACjB,uBAAGA,UAAU,mBAAb,uBAqBZ,OACE,yBAAKA,UAAU,kBAZb,wBAAIA,UAAU,gCACZ,wBAAIA,UAAU,iBACZ,kBAAC,EAAD,CAAa+B,WAAYA,EAAYJ,SAAUA,EAAUF,YAAaA,KAEvES,S,0BG8DM1B,eAPS,SAAArC,GACtB,MAAO,CACLD,KAAMC,EAAMD,QAKwB,CAAEsE,WDnChB,yDAAM,WAAO5B,EAAU6B,GAAjB,eAAA5B,EAAA,6DACtB/C,EAAU2E,IAAWvE,KAArBJ,MADsB,SAGxBgD,EAAIC,KACR,gBACA,GACA,CACEpB,QAAS,CACP,cAAgB,UAAhB,OAA2B7B,MARH,uBAYxB4E,aAAaC,WAAW,aAZA,OAc9B/B,EAAS,CACPvC,KPlGmB,YOqGrB8C,EAAQC,KAAK,KAlBiB,2CAAN,yDCmC4BwB,WDiB5B,yDAAM,WAAOhC,EAAU6B,GAAjB,eAAA5B,EAAA,6DACtB/C,EAAU2E,IAAWvE,KAArBJ,MADsB,SAEPgD,EAAIC,KACzB,gBACA,GACA,CACEpB,QAAS,CACT,cAAgB,UAAhB,OAA2B7B,MAPD,kBAYjBmD,KAAK4B,YAZY,gCAatBH,aAAaC,WAAW,aAbF,OAc5B/B,EAAS,CACEvC,KPtJQ,YOwJnB8C,EAAQC,KAAK,KAjBe,2CAAN,yDCjBwC0B,WDZxC,SAAAC,GAAU,8CAAI,WAAOnC,EAAU6B,GAAjB,mBAAA5B,EAAA,6DAC/B/C,EAAS2E,IAAWvE,KAApBJ,MAD+B,SAEfgD,EAAIkC,MACzB,iBADqB,eAEjBD,GACJ,CACEpD,QAAS,CACP,cAAgB,UAAhB,OAA2B7B,MAPK,YAEhCmF,EAFgC,QAYzBhC,KAAKI,MAZoB,uBAcjB,QADbA,EAAQ4B,EAAShC,KAAKI,OAClB6B,MACRC,MAAM,iBAAD,OAAkB9B,EAAM+B,SAASC,SAAjC,8BAf6B,0BAoBtCzC,EAAS,CACEvC,KP9Hc,cO+HdC,QAAS2E,EAAShC,KAAKjD,OAtBI,2CAAJ,0DCYrBwC,EAvHQ,SAAC,GAAkD,IAAhDtC,EAA+C,EAA/CA,KAAMsE,EAAyC,EAAzCA,WAAYM,EAA6B,EAA7BA,WAAYF,EAAiB,EAAjBA,WAAiB,EACvCpB,mBAAS,IAD8B,mBAC/D8B,EAD+D,KACtDC,EADsD,OAE7B/B,oBAAS,GAFoB,mBAE/DgC,EAF+D,KAEjDC,EAFiD,KAcjE1B,EAAa,SAACgB,GAClBD,EAAWC,GACXQ,EAAW,KAaPG,EAAc,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAC7B7D,EAAS,gBAAY6D,EAAKxC,OAASwC,EAAKC,QAAU,QAAU,IAClE,OACE,wBAAI9D,UAAU,wBACZ,yBAAKA,UAAS,yDAAoDA,IAChE,yBAAKA,UAAU,uBACb,2BAAOA,UAAU,2BACd4D,IAGL,yBAAK5D,UAAU,SACZsD,IAAYM,EACX,yCAAO5D,UAAU,0BAA6B2D,IAC9C,yCAAO3D,UAAU,oCAAuC2D,KAE5D,yBAAKpB,QAAS,kBAAMgB,EAAWK,IAAQ5D,UAAU,uBAC9CO,GA1BS,SAAC,GAAwB,IAAtBc,EAAqB,EAArBA,MACrB,GAD0C,EAAdyC,SACbzC,EACb,OACE,yBAAKrB,UAAU,oBACb,yBAAKA,UAAU,UAAUqB,IAwBxB0C,CAAYF,MAuDfG,EA/CF,oCACE,yBAAKhE,UAAU,sBACb,yBAAKA,UAAU,8CACb,yBACEA,UAAU,OACViE,IAAG,gCAA2B/F,EAAKF,KAAKkG,QACxCpE,OAAO,MACPD,MAAM,MACNsE,IAAI,YAGR,yBAAKnE,UAAU,aACb,kBAAC,EAAD,CAAY+B,WAAYA,EAAYqC,cAAe5F,IAAE6F,KAAKnG,EAAKF,KAAM,OAAQ,WAAY,QAAS,aAChG,wBAAIgC,UAAU,+BACZ,kBAACsE,EAAA,EAAD,CAAO5D,KAAK,OAAO6D,UAAWb,EAAaE,MAAM,SACjD,kBAACU,EAAA,EAAD,CAAO5D,KAAK,WAAW6D,UAAWb,EAAaE,MAAM,aACrD,kBAACU,EAAA,EAAD,CAAO5D,KAAK,QAAQ6D,UAAWb,EAAaE,MAAM,UAClD,kBAACU,EAAA,EAAD,CAAO5D,KAAK,WAAW6D,UAAWb,EAAaE,MAAM,aACrD,wBAAI5D,UAAU,mBACZ,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,mBAAf,eACewE,IAAOtG,EAAKF,KAAKyG,WAAWC,OAAO,eAKxD,2BAAOrG,KAAK,SACL2B,UAAU,kBACV2E,SAAS,QAElB,wBAAI3E,UAAU,+BACZ,wBAAIA,UAAU,0BACZ,4BAAQuC,QAAS,WAAOC,KAAexC,UAAU,0BAAjD,YAIF,wBAAIA,UAAU,0BACZ,4BAAQuC,QAAS,kBAAMkB,GAAgB,IAAOzD,UAAU,iBAAiB4E,SAA4B,6BAAlB1G,EAAKF,KAAKH,KAA7F,uBAYd,OACE,yBAAKmC,UAAU,yBAAyB6E,MAAO,CAAChF,MAAO,QACpDmE,EACD,kBAAC,EAAD,CAAmBc,YAxGH,CAClBC,MAAO,iBACPC,QAAS,gDACTC,QAAS,SACTC,SAAU,UAoGqCzB,gBAAiBA,EAAiBD,aAAcA,EAAc2B,aAjG1F,WACnBvC,W,SCWWwC,cAAU,CAAExG,KAAM,YAAlBwG,EA7BI,SAACC,GAsBlB,OACE,0BAAMC,SAAUD,EAAME,cAtBL,SAAAxC,GAAe,IACzBqB,EAAiBiB,EAAjBjB,cAEP,IAAKA,EACH,OAAOiB,EAAMtD,WAAWgB,GAGDZ,OAAOC,KAAKW,GAChByC,MAAK,SAAA1D,GAAK,MAA0B,KAAtBiB,EAAWjB,OAC5CuD,EAAMI,QAGR,IAAIC,EAAe,GACnBvD,OAAOC,KAAKgC,GAAeuB,SAAQ,SAAC7D,GAC9BsC,EAActC,KAAWiB,EAAWjB,KACtC4D,EAAY,2BAAQA,GAAR,kBAAwB5D,EAAQiB,EAAWjB,SAG3DuD,EAAMtD,WAAW2D,MAI+B1F,UAAU,oBACvDqF,EAAMO,aCUEC,EAjCG,SAACR,GAEjB,IAAM3B,EAAc,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOvF,EAAW,EAAXA,KACnC,OACE,6BACE,2BAAO2B,UAAU,6BAA8B4D,GAC/C,yCAAO5D,UAAU,eAAe8F,YAAalC,GAAWD,EAAxD,CAA+DtF,KAAMA,EAAM0H,UAAQ,OASzF,OACE,kBAAC,EAAD,CAAYhE,WALK,SAAAgB,GACjBsC,EAAMtD,WAAWgB,KAKf,yBAAK/C,UAAU,sBACb,kBAACsE,EAAA,EAAD,CAAO5D,KAAK,WAAW6D,UAAWb,EAAaE,MAAM,WAAWvF,KAAK,SACrE,kBAACiG,EAAA,EAAD,CAAO5D,KAAK,WAAW6D,UAAWb,EAAaE,MAAM,WAAWvF,KAAK,aACrE,4BAAQ2B,UAAU,wDAAlB,WAEF,yBAAKA,UAAU,kDACb,yBAAKA,UAAU,OACb,uBAAGA,UAAU,WAAb,2BACA,uBAAGA,UAAU,WAAb,wBACA,uBAAGA,UAAU,WAAb,gCCCKgG,EA3BI,SAACX,GAElB,IAAM3B,EAAc,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOvF,EAAW,EAAXA,KACnC,OACE,6BACE,2BAAO2B,UAAU,6BAA8B4D,GAC/C,yCAAO5D,UAAU,eAAe3B,KAAMA,EAAMyH,YAAalC,GAAWD,EAApE,CAA2EoC,UAAQ,OASzF,OACE,kBAAC,EAAD,CAAYhE,WALK,SAAAgB,GACjBsC,EAAMtD,WAAWgB,KAKf,kBAACuB,EAAA,EAAD,CAAO5D,KAAK,OAAO6D,UAAWb,EAAaE,MAAM,OAAOvF,KAAK,SAC7D,kBAACiG,EAAA,EAAD,CAAO5D,KAAK,WAAW6D,UAAWb,EAAaE,MAAM,WAAWvF,KAAK,SACrE,kBAACiG,EAAA,EAAD,CAAO5D,KAAK,QAAQ6D,UAAWb,EAAaE,MAAM,QAAQvF,KAAK,UAC/D,kBAACiG,EAAA,EAAD,CAAO5D,KAAK,WAAW6D,UAAWb,EAAaE,MAAM,WAAWvF,KAAK,aACrE,kBAACiG,EAAA,EAAD,CAAO5D,KAAK,eAAe6D,UAAWb,EAAaE,MAAM,mBAAmBvF,KAAK,aACjF,4BAAQ2B,UAAU,wDAAlB,YCYSiG,EAnCK,SAACZ,GAEnB,IAQMa,EAAab,EAAM5D,YAAYQ,OAAS,GAAkC,IAA7BoD,EAAM5D,YAAYQ,OAAe,aAAe,KAEnG,OACE,0BAAMjC,UAAU,QAAQsF,SAPP,SAAA1D,GACjByD,EAAMtD,WAAWH,KAOf,yBACE5B,UAAU,kBAEV,yBAAKA,UAAU,UACb,2BAAO2B,SAhBE,SAAAC,GACfyD,EAAM1D,SAASC,IAekB5B,UAAS,uBAAkBkG,GAAc7H,KAAK,OAAOyH,YAAa,uBAAwBpF,KAAK,WAAWqF,UAAQ,KAE/I,yBAAK/F,UAAU,4CACb,4BACE3B,KAAK,SACL2B,UAAU,6BAEV,yBAAKA,UAAU,oCACZM,Q,iBCAA6F,EAzBI,SAACd,GASlB,OACE,4BACErF,UAAWoG,IAAY,eACrB,2BACA,CACE,aAAcf,EAAMgB,OAAShB,EAAMiB,WACnC,iBAAkBjB,EAAMgB,OAAShB,EAAMiB,aAG3C1B,SAAUS,EAAMgB,OAAShB,EAAMiB,YAhBd,YAAfjB,EAAMgB,KACDzG,EAEU,UAAfyF,EAAMgB,KACDhG,OADT,I,yCC8BWkG,EA/BW,SAAC,GAAgE,IAA/DzB,EAA8D,EAA9DA,YAAarB,EAAiD,EAAjDA,gBAAiBD,EAAgC,EAAhCA,aAAc2B,EAAkB,EAAlBA,aAMtE,OAAI3B,EAEA,kBAACgD,EAAA,EAAD,CAAOC,KAAMjD,EAAckD,OAAQ,kBAAMjD,GAAgB,KACvD,kBAACkD,EAAA,EAAD,CAAaC,aAAW,GACtB,kBAACC,EAAA,EAAD,KACG/B,EAAYC,QAGjB,kBAAC+B,EAAA,EAAD,KACE,2BAAIhC,EAAYE,UAElB,kBAAC+B,EAAA,EAAD,KACE,4BAAQxE,QAAS,kBAAMkB,GAAgB,IAAQpF,KAAK,SAAS2B,UAAU,qBAAvE,UAGA,4BAAQuC,QAAS,kBAnBvBkB,GAAgB,QAChB0B,KAkBkDnF,UAAS,kBAAa8E,EAAYI,WAC3EJ,EAAYG,WAMhB,sCCwCM+B,EAxEC,SAAC3B,GAAW,IAAD,EACa7D,mBAAS,SADtB,mBACjB8E,EADiB,KACLW,EADK,KAEnBC,EAAQ,CAAC,UAAW,SAE1BC,qBAAU,WACR,OAAO,WACLF,EAAc,YAEf,CAAC5B,EAAMnH,OAuCV,OACE,yBAAK8B,UAAU,oBACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,qBACb,wBAAIA,UAAU,cAAd,cAEF,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,oBAEjB,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,oDArCbkH,EAAM7E,KAAI,SAAAgE,GACf,OACE,wBACEe,GAAE,UAAKf,EAAL,QACF/D,IAAK+D,EACLrG,UAAU,WACVuC,QAAS,SAACX,GAAD,OAhBM,SAACA,GACK,gBAAvBA,EAAEyF,cAAcD,IAClBH,EAAc,WAEW,cAAvBrF,EAAEyF,cAAcD,IAClBH,EAAc,SAWMK,CAAe1F,KAE/B,kBAAC,EAAD,CAAYyE,KAAMA,EAAMC,WAAYA,UAiCtC,yBAAKtG,UAAU,gBACb,yBAAKA,UAAU,oBAEjB,yBAAKA,UAAU,gBA7BdqF,EAAMnH,KAIQ,YAAfoI,EACK,kBAAC,EAAD,MAEU,UAAfA,EACK,kBAAC,EAAD,WADT,EANS,oGCoCE9F,eAAQ,KAAM,CAAE+G,UTLN,SAAAxE,GAAU,8CAAI,WAAMnC,GAAN,eAAAC,EAAA,sEACdC,EAAIC,KACzB,eADqB,eAEhBgC,IAH8B,cAC/BE,EAD+B,gBAM/BP,aAAa8E,QAAQ,YAAavE,EAAShC,KAAKnD,OANjB,OAQrC8C,EAAS,CACPvC,KPvEsB,aOwEtBC,QAAS,CACPT,IAAKoF,EAAShC,KAAKjD,KAAKH,IACxBC,MAAOmF,EAAShC,KAAKnD,MACrBE,KAAMiF,EAAShC,KAAKjD,KACpBJ,YAAY,KAIhBuD,EAAQC,KAAK,UAlBwB,2CAAJ,uDSKOqG,WThChB,SAAC1E,GAAD,8CAAgB,WAAOnC,GAAP,iBAAAC,EAAA,sEACjBC,EAAIC,KAAK,gBAAT,eAA+BgC,IADd,YAClCE,EADkC,QAG3BhC,KAAKI,MAHsB,uBAKnB,QADbA,EAAQ4B,EAAShC,KAAKI,OAClB6B,MACRC,MAAM,iBAAD,OAAkB9B,EAAM+B,SAASC,SAAjC,8BAN+B,0BAWxCX,aAAa8E,QAAQ,YAAavE,EAAShC,KAAKnD,OAChD8C,EAAS,CACEvC,KPhDa,aOiDbC,QAAS,CACPT,IAAKoF,EAAShC,KAAKjD,KAAKH,IACxBC,MAAOmF,EAAShC,KAAKnD,MACrBF,YAAY,EACZqD,KAAMgC,EAAShC,KAAKjD,QAIjCmD,EAAQC,KAAR,UAtBwC,4CAAhB,wDSgCXZ,EArEC,SAAC,GAA+B,IAA7B+G,EAA4B,EAA5BA,UAAWE,EAAiB,EAAjBA,WAAiB,EACTjG,mBAAS,UADA,mBACtCkG,EADsC,KAC1BC,EAD0B,KAGvCC,EAAe,SAAC7E,GACpB0E,EAAW1E,IAGP8E,EAAc,SAAC9E,GACnBwE,EAAUxE,IAGN+E,EAAoB,WACL,WAAfJ,GACFC,EAAc,SAEG,UAAfD,GACFC,EAAc,WAelB,OACE,yBAAK3H,UAAU,qBACb,yBAAKA,UAAU,kDACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,WACb,4BACEuC,QAAS,kBAAMuF,KACf9H,UAAWoG,IAAW,CACE,sCAAsC,EACtC,mBAAmC,WAAfsB,EACpB,gBAAgC,UAAfA,IAEzC9C,SAAyB,WAAf8C,GAPZ,kBAaF,yBAAK1H,UAAU,iBACb,4BACEuC,QAAS,kBAAMuF,KACf9H,UAAWoG,IAAW,CACE,sCAAsC,EACtC,4BAA4C,UAAfsB,EAC7B,gBAAgC,WAAfA,IAEzC9C,SAAyB,UAAf8C,GAPZ,kBA7Bc,WAAfA,EACL,kBAAC,EAAD,CACE3F,WAAY6F,IAGd,kBAAC,EAAD,CACE7F,WAAY8F,SC6ELrH,gBANS,SAAArC,GACtB,MAAO,CACLD,KAAMC,EAAMD,QAIDsC,EA1GS,SAAC,GAAwB,IAAtB7B,EAAqB,EAArBA,SAAUT,EAAW,EAAXA,KAC7B6J,EAAcC,iBAAO,MA4B3Bb,qBA1BmB,WAEjB,IAAMc,EAAaF,EAAYG,QAAQC,iBAEvC,GAAKF,EAAL,CAGA,IAAMG,EAAmBC,iBAAiBJ,EAAWE,kBAC/CG,EAAmBC,SAASH,EAAiBI,cAC7CC,EAAmBV,EAAYG,QAAQQ,aAAeJ,EAGtDK,EAAgBZ,EAAYG,QAAQQ,aAGpBX,EAAYG,QAAQU,aAKtBH,GAFCV,EAAYG,QAAQW,UAAYF,IAInDZ,EAAYG,QAAQW,UAAYd,EAAYG,QAAQU,iBAIlC,CAACjK,EAASsD,SA6DhC,OACE,yBAAKjC,UAAU,mBACb,wBAAIA,UAAU,sCAAsC8I,IAAKf,GACtDpJ,EAxDoBwD,OAAOC,KAAKzD,GAEb0D,KAAI,SAAA0G,GAC1B,IARqBtE,EAQfuE,GARevE,EAQa9F,EAASoK,GAAYtE,UAPlDD,IAAOC,GAAWC,OAAO,WAQ9B,MAAoC,kBAAhC/F,EAASoK,GAAYE,OAErB,wBAAI3G,IAAmB,IAAd4G,KAAKC,SAAenJ,UAAU,sCACrC,yBAAKsC,IAAKyG,EAAY/I,UAAU,wBAAwBrB,EAASoK,GAAY/D,UAK/ErG,EAASoK,GAAYpI,SAAWzC,EAAKL,IAErC,wBAAIyE,IAAKyG,EAAY/I,UAAU,qCAC7B,yBAAKA,UAAU,iCACb,yBAAKA,UAAS,iBACZ,yBAAKA,UAAS,cACZ,uBAAGA,UAAU,gCACVrB,EAASoK,GAAYE,QAExB,uBAAGjJ,UAAU,iCAAiCrB,EAASoK,GAAY/D,UAErE,yBAAKhF,UAAS,qBACZ,yBAAKA,UAAU,mBACZgJ,OAUb,wBAAI1G,IAAKyG,EAAY/I,UAAU,sCAC7B,yBAAKA,UAAU,kCACb,yBAAKA,UAAS,iBACZ,yBAAKA,UAAS,cACZ,uBAAGA,UAAU,iCAAiCrB,EAASoK,GAAY/D,UAErE,yBAAKhF,UAAS,gCACZ,yBAAKA,UAAU,mBACZgJ,UAaoB,yBAAKhJ,UAAU,cAAf,yBCxBxBQ,gBAPS,SAAArC,GACtB,MAAO,CACLD,KAAMC,EAAMD,KACZK,UAAWJ,EAAMI,aAImB,CAAE6K,cZjBb,SAAC1K,GAAD,8CAAgB,WAAMkC,GAAN,iBAAAC,EAAA,sEACpBC,EAAIuI,IAAJ,qCAAsC3K,IADlB,gBACnCuC,EADmC,EACnCA,KACRL,EAAS,CAAEvC,KNvDiB,iBMuDKC,QAAS,CAACI,aAAYC,SAAUsC,EAAKtC,YAF3B,2CAAhB,wDYiBd6B,EApEO,SAAC,GAAwC,IAAtCtC,EAAqC,EAArCA,KAAMK,EAA+B,EAA/BA,UAAW6K,EAAoB,EAApBA,cAAoB,EAC5B5H,mBAAS,IADmB,mBACpDwD,EADoD,KAC3CsE,EAD2C,KAU5D,GANAnC,qBAAU,WACRhF,OAAOC,KAAK7D,GAAWoH,SAAQ,SAACzE,GAC9BkI,EAAclI,QAEf,KAEE3C,EAAUL,EAAKH,iBAClB,OAAO,qCAkBT,OACE,yBAAKiC,UAAU,kCACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,qBACb,wBAAIA,UAAU,mBAAmBzB,EAAUL,EAAKH,iBAAiB2C,OAEnE,kBAAC,GAAD,CAAiB/B,SAAUJ,EAAUL,EAAKH,iBAAiBY,WAC3D,yBAAKqB,UAAU,gCACb,0BAAMA,UAAU,SACd,yBAAKA,UAAU,QACb,yBAAKA,UAAU,UACb,2BACEA,UAAU,qBACV8F,YAAY,aACZzH,KAAK,OACLyD,MAAOkD,EACPrD,SA/BC,SAAAC,GACf0H,EAAW1H,EAAEC,OAAOC,WAiCV,yBAAK9B,UAAU,SACb,4BAAQA,UAAU,qCAAlB,iBCjCDQ,gBAPS,SAAArC,GACtB,MAAO,CACLD,KAAMC,EAAMD,KACZK,UAAWJ,EAAMI,aAImB,GAAzBiC,EAjBE,SAAC,GAAmB,IAC7B+I,EAA2C,IADf,EAAhBhL,UACoB0D,OAAe,kBAAC,GAAD,MAAoB,8DACzE,OACE,oCACGsH,MCqCQ/I,I,cAAAA,aANS,SAAArC,GACtB,MAAO,CACLD,KAAMC,EAAMD,QAIwB,CAAEsL,UbnCjB,yDAAM,WAAM5I,GAAN,iBAAAC,EAAA,yDACvB/C,EAAQ4E,aAAa+G,QAAQ,aADN,yCAGpB7I,EAAS,CACdvC,KPNoB,aOOpBC,QAAS,CACPV,YAAY,EACZE,MAAO,SAPgB,uBAYNgD,EAAIuI,IACzB,eACA,CAAC1J,QAAS,CACR,cAAgB,UAAhB,OAA2B7B,MAfF,OAYvBmF,EAZuB,OAoB7BrC,EAAS,CACPvC,KPvBsB,aOwBtBC,QAAS,CACPR,QACAD,IAAKoF,EAAShC,KAAKpD,IACnBD,YAAY,EACZI,KAAMiF,EAAShC,KAAKjD,QA1BK,2CAAN,uDamC4B0L,ed7BvB,yDAAM,WAAO9I,EAAU6B,GAAjB,iBAAA5B,EAAA,+EAETC,EAAIuI,IAAI,oBAFC,OAE1BpG,EAF0B,OAG1B1E,EAAY0E,EAAShC,KAAK1C,UAAU8D,KAAI,SAAAnB,GAC5C,IAAMvC,EAA2C,IAAhC8D,IAAWlE,UAAU0D,OAAeQ,IAAWlE,UAAU2C,EAASrD,KAAKc,SAAW,GACnG,OAAO,2BAAKuC,GAAZ,IAAsBvC,SAAS,YAAKA,QAGtCiC,EAAS,CACPvC,KNxByB,kBMyBzBC,QAAQ,eAAKC,KAViB,gDAahCoL,QAAQC,IAAR,MAbgC,yDAAN,0Dc6BfpJ,EAjCH,SAAC,GAAyC,IAAvCtC,EAAsC,EAAtCA,KAAMsL,EAAgC,EAAhCA,UAAWE,EAAqB,EAArBA,eAO9B,OANAvC,qBAAU,WACRqC,IACItL,EAAKN,YACP8L,MAED,CAACxL,EAAKN,WAAY4L,EAAWE,IAE9B,yBAAK1J,UAAU,sCACb,kBAAC,IAAD,CAAQmB,QAASA,GACf,oCACE,kBAAC,EAAD,CAASjD,KAAMA,EAAKN,aACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOiM,KAAK,IAAIC,OAAK,GACjB5L,EAAKN,WAAa,kBAAC,IAAD,CAAUmM,GAAG,WAAc,kBAAC,GAAD,OAEjD,kBAAC,IAAD,CAAOF,KAAK,UACR3L,EAAKN,WAAa,kBAAC,GAAD,MAAe,kBAAC,IAAD,CAAUmM,GAAG,eCxB9DJ,QAAQC,IAAI,OAAQI,cACpBC,IAASC,OACP,kBAAC,IAAD,CAAUhL,MAAOA,GACf,kBAAC,GAAD,OAEFiL,SAASC,cAAc,Y","file":"static/js/main.4a8143bd.chunk.js","sourcesContent":["import {\r\n  CHECK_AUTH,\r\n  LOG_IN,\r\n  LOG_OUT,\r\n  SET_CHATROOM,\r\n  UPDATE_USER\r\n} from '../types'\r\n\r\n// Do not modify\r\nconst INITIAL_STATE = {\r\n  isLoggedIn: false,\r\n  _id: null,\r\n  token: null,\r\n  currentChatroom: '5f52268b6d59e14df8174254',\r\n  user: {}\r\n}\r\n\r\nexport default (state=INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CHECK_AUTH:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case SET_CHATROOM:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case LOG_IN:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case LOG_OUT:\r\n      return {\r\n        ...state,\r\n        ...INITIAL_STATE\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import _ from 'lodash'\r\nimport {\r\n  CREATE_CHATROOM,\r\n  FETCH_CHATROOMS,\r\n  SEND_MESSAGE,\r\n  FETCH_MESSAGES,\r\n  CLOSE_CHAT,\r\n  LOG_OUT\r\n} from '../types';\r\n\r\nconst INITIAL_STATE = [];\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch(action.type) {\r\n    case FETCH_CHATROOMS:\r\n      return {\r\n        ...state,\r\n        ..._.mapKeys(action.payload, '_id')\r\n      }\r\n    case CREATE_CHATROOM:\r\n      return {\r\n        ...state,\r\n        [action.payload._id]: {\r\n          ...action.payload\r\n        }\r\n      }\r\n    case FETCH_MESSAGES:\r\n      return {\r\n        ...state,\r\n        [action.payload.chatroomId]: {\r\n          ...state[action.payload.chatroomId],\r\n          messages: [\r\n            ...state[action.payload.chatroomId].messages,\r\n            ...action.payload.messages\r\n          ]\r\n        }\r\n      }\r\n    case LOG_OUT:\r\n      return [\r\n       ...INITIAL_STATE\r\n      ]\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport chatReducer from './chatReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  chatrooms: chatReducer,\r\n  form: formReducer\r\n});\r\n","// Chat Action Types\r\nexport const CREATE_CHATROOM = 'CREATE_CHATROOM';\r\nexport const FETCH_CHATROOMS = 'FETCH_CHATROOMS';\r\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\r\nexport const FETCH_MESSAGES = 'FETCH_MESSAGES';\r\nexport const CLOSE_CHATROOM = 'CLOSE_CHATROOM';\r\nexport const SET_CHATROOM = 'SET_CHATROOM'\r\n\r\n// Authorization Action Types\r\nexport const CHECK_AUTH = 'CHECK_AUTH';\r\nexport const LOG_IN = 'LOG_IN';\r\nexport const LOG_OUT = 'LOG_OUT';\r\nexport const UPDATE_USER = 'UPDATE_USER';\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from 'redux-thunk';\r\nimport reducers from '../redux/reducers';\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n","import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import axios from 'axios';\r\nexport default axios.create({\r\n  baseURL: process.env.NODE_ENV === 'production' ? 'https://young-oasis-67409.herokuapp.com' : 'http://localhost:5500',\r\n  headers: {'Content-Security-Policy': \"default-src *\"}\r\n})\r\n","import React from \"react\";\r\n\r\nexport const profileIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const chatsIcon = (\r\n  <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-chat-right-text\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const avatarIcon = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-person-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const plusIcon = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-plus-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n    <path fillRule=\"evenodd\" d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const pencilIcon = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"icon__pencil bi bi-pencil\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\r\n  </svg>\r\n)\r\n\r\nexport const pencilIconFilled = (\r\n  <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-pencil-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path fillRule=\"evenodd\" d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/>\r\n  </svg>\r\n)\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport history from '../../utils/history';\r\nimport { NewChatForm } from '../../components';\r\nimport { createChatroom } from '../../redux/actions/chat';\r\nimport { setChatroom } from '../../redux/actions/auth';\r\nimport { profileIcon } from \"../../icons/icons\";\r\n\r\nconst SidebarChats = ({ auth, chatrooms, setChatroom, createChatroom, closeChat }) => {\r\n  const [ newRoomName, setNewRoomName ] = useState('');\r\n\r\n  const handleClose = (key) => {\r\n    closeChat(key)\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    setNewRoomName(e.target.value)\r\n  }\r\n\r\n  const handleForm = (e) => {\r\n    e.preventDefault()\r\n    if (newRoomName.length >= 5) {\r\n      createChatroom(newRoomName, auth._id)\r\n      setNewRoomName('')\r\n    }\r\n  }\r\n\r\n  const renderChatroom = (chatroomId) => {\r\n    setChatroom(chatroomId)\r\n    history.push(`/chats/${chatroomId}`)\r\n  }\r\n\r\n  const renderChatroomList = () => {\r\n    if (chatrooms === {}) {\r\n      return\r\n    }\r\n    return Object.keys(chatrooms).map(key => {\r\n      return (\r\n        <li key={key} className='chatroom__item'>\r\n          <div className='chatroom__icon col-2 my-auto text-secondary'>\r\n            {profileIcon}\r\n          </div>\r\n          <div className='col-8 px-0'>\r\n            <div className='col text-center text-white' >\r\n              <div onClick={() => renderChatroom(key)} className='chatroom__chatroom'> {/*used to be the LINK tag*/}\r\n                <div className='col text-left'>\r\n                  {chatrooms[key].name}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='chatroom__cta-col'>\r\n            <button  className='chatroom__cta-close p-0 text-secondary'>\r\n              <p className='chatroom__close'>&#128473;</p>\r\n            </button>\r\n          </div>\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  const renderSidebarChats = () => {\r\n    return (\r\n      <ul className='chatroom__list list-unstyled'>\r\n        <li className='chatroom__new'>\r\n          <NewChatForm handleForm={handleForm} onChange={onChange} newRoomName={newRoomName} />\r\n        </li>\r\n        {renderChatroomList()}\r\n      </ul>\r\n    )\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className='chatroom__list'>\r\n      {renderSidebarChats()}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n    chatrooms: state.chatrooms\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { createChatroom, setChatroom })(SidebarChats);\r\n","import api from '../../../utils/api'\r\nimport { store } from '../../../utils/store';\r\nimport history from \"../../../utils/history\";\r\nimport {\r\n  FETCH_CHATROOMS,\r\n  SET_CHATROOM,\r\n  NEW_MESSAGE,\r\n  FETCH_MESSAGES,\r\n  CLOSE_CHAT,\r\n  CREATE_CHATROOM\r\n} from '../../types'\r\n\r\n\r\n\r\n\r\n\r\n/* ----   FETCH_CHATROOMS ACTION CREATOR    ---- */\r\nexport const fetchChatrooms = () => async (dispatch, getState) => {\r\n  try {\r\n    const response = await api.get('/chatrooms/fetch');\r\n    const chatrooms = response.data.chatrooms.map(chatroom => {\r\n      const messages = getState().chatrooms.length !== 0 ? getState().chatrooms[chatroom._id].messages : [];\r\n      return { ...chatroom, messages: [...messages] }\r\n    })\r\n\r\n    dispatch({\r\n      type: FETCH_CHATROOMS,\r\n      payload: {...chatrooms}\r\n    })\r\n  } catch(e) {\r\n    console.log(e)\r\n  }\r\n}\r\n/* ----   ****    ---- */\r\n\r\n/* ----   ADD_CHATROOM ACTION CREATOR    ---- */\r\nexport const createChatroom = (name, userId) => async dispatch => {\r\n  try {\r\n    const { data } = await api.post(\r\n      '/chatrooms/create',\r\n      { name, createdBy: userId }\r\n    )\r\n    dispatch({\r\n      type: CREATE_CHATROOM,\r\n      payload: {...data.chatroom, messages: []}\r\n    })\r\n    history.push(`/chats/${data.chatroom._id}`)\r\n  } catch (e) {\r\n    dispatch({\r\n      type: 'ERROR',\r\n      error: 'Invalid Name'\r\n    })\r\n  }\r\n}\r\n/* ----   ****    ---- */\r\n\r\n/* ----   FETCH_MESSAGES ACTION CREATOR    ---- */\r\nexport const fetchMessages = (chatroomId) => async dispatch => {\r\n  const { data } = await api.get(`/messages/fetch?chatroomId=${chatroomId}`);\r\n  dispatch({ type: FETCH_MESSAGES, payload: {chatroomId, messages: data.messages }})\r\n}\r\n/* ----   ****    ---- */\r\n","import api from '../../../utils/api';\r\nimport history from '../../../utils/history';\r\nimport {\r\n  CHECK_AUTH,\r\n  LOG_OUT,\r\n  SET_CHATROOM,\r\n  UPDATE_USER\r\n} from '../../types';\r\n\r\n\r\n/* ----   CHECK_AUTH ACTION CREATOR    ---- */\r\nexport const checkAuth = () => async dispatch => {\r\n  const token = localStorage.getItem('jwt-token');\r\n  if (!token) {\r\n    return dispatch({\r\n      type: CHECK_AUTH,\r\n      payload: {\r\n        isLoggedIn: false,\r\n        token: null\r\n      }\r\n    })\r\n  }\r\n\r\n  const response = await api.get(\r\n    '/users/fetch',\r\n    {headers: {\r\n      'Authorization': `Bearer ${token}`\r\n      }\r\n    }\r\n  )\r\n\r\n  dispatch({\r\n    type: CHECK_AUTH,\r\n    payload: {\r\n      token,\r\n      _id: response.data._id,\r\n      isLoggedIn: true,\r\n      user: response.data.user\r\n    }\r\n  })\r\n}\r\n/* ----   ****    ---- */\r\n\r\n/* ----   SIGN_UP ACTION CREATOR    ---- */\r\nexport const userSignup = (formValues) => async (dispatch) => {\r\n  const response = await api.post('/users/create', { ...formValues })\r\n\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    if (error.code === 11000) {\r\n      alert(`The username \"${error.keyValue.username}\" has already been taken.`)\r\n    }\r\n    return\r\n  }\r\n\r\n  localStorage.setItem('jwt-token', response.data.token);\r\n  dispatch({\r\n             type: CHECK_AUTH,\r\n             payload: {\r\n               _id: response.data.user._id,\r\n               token: response.data.token,\r\n               isLoggedIn: true,\r\n               data: response.data.user\r\n             }\r\n           })\r\n\r\n  history.push(`/chats`)\r\n}\r\n/* ----   ****    ---- */\r\n\r\n/* ----   LOG_IN ACTION CREATOR    ---- */\r\nexport const userLogin = formValues => async dispatch => {\r\n  const response = await api.post(\r\n    '/users/login',\r\n    { ...formValues }\r\n  )\r\n\r\n  await localStorage.setItem('jwt-token', response.data.token)\r\n\r\n  dispatch({\r\n    type: CHECK_AUTH,\r\n    payload: {\r\n      _id: response.data.user._id,\r\n      token: response.data.token,\r\n      user: response.data.user,\r\n      isLoggedIn: true,\r\n    }\r\n  })\r\n\r\n  history.push('/chats')\r\n}\r\n/* ----   ****    ---- */\r\n\r\n/* ----   LOG_OUT ACTION CREATOR    ---- */\r\nexport const userLogout = () => async (dispatch, getState) => {\r\n  const { token } = getState().auth\r\n\r\n  await api.post(\r\n    '/users/logout',\r\n    {},\r\n    {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    }\r\n  )\r\n  await localStorage.removeItem('jwt-token');\r\n\r\n  dispatch({\r\n    type: LOG_OUT,\r\n  })\r\n\r\n  history.push('/')\r\n}\r\n/* ----   ****    ---- */\r\n\r\n/* ----   UPDATE_USER ACTION CREATOR    ---- */\r\nexport const userUpdate = formValues => async (dispatch, getState) => {\r\n  const {token} = getState().auth;\r\n  const response = await api.patch(\r\n    './users/update',\r\n    {...formValues},\r\n    {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    }\r\n  );\r\n\r\n  if (response.data.error) {\r\n    const error = response.data.error;\r\n    if (error.code === 11000) {\r\n      alert(`The username \"${error.keyValue.username}\" has already been taken.`)\r\n    }\r\n    return\r\n  }\r\n\r\n  dispatch({\r\n             type: UPDATE_USER,\r\n             payload: response.data.user\r\n           })\r\n}\r\n\r\n/* ----   ****    ---- */\r\n\r\n/* ----   DELETE_USER ACTION CREATOR    ---- */\r\nexport const userDelete = () => async (dispatch, getState) => {\r\n  const { token } = getState().auth;\r\n  const response = await api.post(\r\n    '/users/delete',\r\n    {},\r\n    {\r\n      headers: {\r\n      'Authorization': `Bearer ${token}`\r\n      }\r\n    }\r\n  )\r\n\r\n  if (response.data.userDeleted) {\r\n    await localStorage.removeItem('jwt-token');\r\n    dispatch({\r\n               type: LOG_OUT,\r\n             })\r\n    history.push('/')\r\n  }\r\n}\r\n\r\n\r\n/* ----   SET_CHATROOM ACTION CREATOR    ---- */\r\nexport const setChatroom = (currentChatroom) => async dispatch => {\r\n  dispatch({\r\n    type: SET_CHATROOM,\r\n    payload: { currentChatroom }\r\n  })\r\n}\r\n/* ----   ****    ---- */\r\n","import React, { useState } from 'react';\r\nimport moment from 'moment';\r\nimport _ from 'lodash';\r\nimport { connect } from 'react-redux';\r\nimport { Field } from 'redux-form';\r\nimport { ConfirmationModal, RenderForm } from '../../components';\r\nimport { userLogout, userDelete, userUpdate } from \"../../redux/actions/auth\";\r\nimport { pencilIconFilled } from \"../../icons/icons\";\r\n\r\n\r\nconst SidebarProfile = ({ auth, userLogout, userUpdate, userDelete }) => {\r\n  const [ editing, setEditing ] = useState('')\r\n  const [ modalDisplay, setModalDisplay ] = useState(false);\r\n  const modalConfig = {\r\n    title: 'Delete Account',\r\n    message: 'Are you sure you want to delete your account?',\r\n    btnText: 'Delete',\r\n    btnStyle: 'danger'\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    userDelete();\r\n  }\r\n\r\n  const handleForm = (formValues) => {\r\n    userUpdate(formValues)\r\n    setEditing('')\r\n  }\r\n\r\n  const renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n      return (\r\n        <div className='ui error message'>\r\n          <div className='header'>{error}</div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  const renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\r\n    return (\r\n      <li className='list-group-item px-3'>\r\n        <div className={`row justify-content-between align-items-center ${className}`}>\r\n          <div className='col-3 text-left p-0'>\r\n            <label className='m-auto font-weight-bold'>\r\n              {label}\r\n            </label>\r\n          </div>\r\n          <div className='col-7'>\r\n            {editing === label ?\r\n              <input className='form-control text-left' {...input} /> :\r\n              <input className='form-control-plaintext text-left' {...input} />}\r\n          </div>\r\n          <div onClick={() => setEditing(label)} className='profile__edit col-1'>\r\n            {pencilIconFilled}\r\n          </div>\r\n          {renderError(meta)}\r\n        </div>\r\n      </li>\r\n    )\r\n  }\r\n\r\n  const profileCard = () => {\r\n    return (\r\n      <>\r\n        <div className='card profile__card'>\r\n          <div className='card-img-top d-flex justify-content-center'>\r\n            <img\r\n              className='mt-3'\r\n              src={`data:image/png;base64,${auth.user.avatar}`}\r\n              height='150'\r\n              width='150'\r\n              alt='avatar'\r\n            />\r\n          </div>\r\n          <div className='card-body'>\r\n            <RenderForm handleForm={handleForm} initialValues={_.pick(auth.user, 'name', 'username', 'email', 'password')}>\r\n              <ul className='list-group list-group-flush'>\r\n                <Field name='name' component={renderInput} label='Name' />\r\n                <Field name='username' component={renderInput} label='Username' />\r\n                <Field name='email' component={renderInput} label='Email' />\r\n                <Field name='password' component={renderInput} label='Password' />\r\n                <li className='list-group-item'>\r\n                  <div className='row justify-content-around'>\r\n                    <div className='col text-center'>\r\n                      User Since: {moment(auth.user.createdAt).format(\"MMM 'YY\")}\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n              <input type=\"submit\"\r\n                     className='profile__submit'\r\n                     tabIndex=\"-1\"/>\r\n            </RenderForm>\r\n            <ul className='list-group list-group-flush'>\r\n              <li className='list-group-item m-auto'>\r\n                <button onClick={() => {userLogout()}} className='btn btn-secondary mt-2'>\r\n                  Log Out\r\n                </button>\r\n              </li>\r\n              <li className='list-group-item m-auto'>\r\n                <button onClick={() => setModalDisplay(true)} className='btn btn-danger' disabled={auth.user._id === '5f637fdd0a41ae691c828e50'}>Delete Account</button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n\r\n  const profileDisplay =  profileCard()\r\n\r\n  return (\r\n    <div className='d-flex flex-column m-3' style={{width: '90%'}}>\r\n      {profileDisplay}\r\n      <ConfirmationModal modalConfig={modalConfig} setModalDisplay={setModalDisplay} modalDisplay={modalDisplay} handleDelete={handleDelete} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { userLogout, userDelete, userUpdate })(SidebarProfile);\r\n","import React from 'react';\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst RenderForm = (props) => {\r\n  const handleForm = formValues => {\r\n    const {initialValues} = props;\r\n\r\n    if (!initialValues) {\r\n      return props.handleForm(formValues);\r\n    }\r\n\r\n    const valuesToValidate = Object.keys(formValues)\r\n    if (valuesToValidate.some(value => formValues[value] === '')) {\r\n      props.reset();\r\n    }\r\n\r\n    let updateValues = {};\r\n    Object.keys(initialValues).forEach((value) => {\r\n      if (initialValues[value] !== formValues[value]) {\r\n        updateValues = { ...updateValues,  [value]: formValues[value] }\r\n      }\r\n    })\r\n    props.handleForm(updateValues);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit(handleForm)} className='form-signin mt-2'>\r\n      {props.children}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({ form: 'userForm' })(RenderForm);\r\n","import React from 'react';\r\nimport { Field } from \"redux-form\";\r\nimport RenderForm from \"./RenderForm\";\r\n\r\nconst LoginForm = (props) => {\r\n\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className='text-white text-left my-2' >{label}</label>\r\n        <input className='form-control' placeholder={label} {...input} type={type} required />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const handleForm = formValues => {\r\n    props.handleForm(formValues);\r\n  }\r\n\r\n  return(\r\n    <RenderForm handleForm={handleForm}>\r\n      <div className='ui stacked element'>\r\n        <Field name='username' component={renderInput} label='Username' type='text' />\r\n        <Field name='password' component={renderInput} label='Password' type='password' />\r\n        <button className='btn btn-md btn-secondary btn-block my-4 mx-auto w-25'>Submit</button>\r\n      </div>\r\n      <div className='d-flex w-100 justify-content-center text-white'>\r\n        <div className='col'>\r\n          <p className='m-0 p-0'>Sample User Credentials</p>\r\n          <p className='m-0 p-0'>Username: sampleuser</p>\r\n          <p className='m-0 p-0'>Password: examplepass000</p>\r\n        </div>\r\n      </div>\r\n    </RenderForm>\r\n  )\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport { Field, } from \"redux-form\";\r\nimport RenderForm from \"./RenderForm\";\r\n\r\nconst SignupForm = (props) => {\r\n\r\n  const renderInput = ({ input, label, type }) => {\r\n    return (\r\n      <div>\r\n        <label className='text-white text-left my-2' >{label}</label>\r\n        <input className='form-control' type={type} placeholder={label} {...input} required />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const handleForm = formValues => {\r\n    props.handleForm(formValues);\r\n  }\r\n\r\n  return(\r\n    <RenderForm handleForm={handleForm}>\r\n      <Field name='name' component={renderInput} label='Name' type='text' />\r\n      <Field name='username' component={renderInput} label='Username' type='text' />\r\n      <Field name='email' component={renderInput} label='Email' type='email' />\r\n      <Field name='password' component={renderInput} label='Password' type='password' />\r\n      <Field name='passwordConf' component={renderInput} label='Confirm Password' type='password' />\r\n      <button className='btn btn-md btn-secondary btn-block mt-4 mx-auto w-50'>Submit</button>\r\n    </RenderForm>\r\n  )\r\n}\r\n\r\nexport default SignupForm;\r\n","import React from 'react';\r\nimport { plusIcon } from \"../../icons/icons\";\r\n\r\nconst NewChatForm = (props) => {\r\n\r\n  const onChange = e => {\r\n    props.onChange(e)\r\n  }\r\n\r\n  const handleForm = e => {\r\n    props.handleForm(e)\r\n  }\r\n\r\n  const errorStyle = props.newRoomName.length < 5 && props.newRoomName.length !== 0 ? 'is-invalid' : null\r\n\r\n  return (\r\n    <form className='w-100' onSubmit={handleForm}>\r\n      <div\r\n        className='chatroom__form'\r\n      >\r\n        <div className='col-10'>\r\n          <input onChange={onChange} className={`form-control ${errorStyle}`} type='text' placeholder={'Create Chat Room....'} name='chatForm' required/>\r\n        </div>\r\n        <div className='d-flex justify-content-end col-2 mx-auto'>\r\n          <button\r\n            type='submit'\r\n            className='chatroom__cta-new btn p-0'\r\n          >\r\n            <div className='chatroom__new-cta text-secondary'>\r\n              {plusIcon}\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default NewChatForm;\r\n","import React from 'react';\r\nimport classNames from \"classnames\";\r\nimport { profileIcon, chatsIcon } from \"../icons/icons\";\r\n\r\nconst IconButton = (props) => {\r\n  const renderIcon = () => {\r\n    if (props.icon === 'profile') {\r\n      return profileIcon;\r\n    }\r\n    if (props.icon === 'chats') {\r\n      return chatsIcon;\r\n    }\r\n  }\r\n  return (\r\n    <button\r\n      className={classNames( 'icon__button',\r\n        'btn btn-outline-dark p-0',\r\n        {\r\n          'text-white': props.icon === props.activeIcon,\r\n          'text-secondary': props.icon !== props.activeIcon\r\n        }\r\n      )}\r\n      disabled={props.icon === props.activeIcon}\r\n    >\r\n      {renderIcon()}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default IconButton;\r\n","import React from 'react';\r\nimport Modal  from 'react-bootstrap/Modal';\r\nimport ModalFooter from 'react-bootstrap/ModalFooter';\r\nimport ModalBody from 'react-bootstrap/ModalBody';\r\nimport ModalTitle from 'react-bootstrap/ModalTitle';\r\nimport ModalHeader from 'react-bootstrap/ModalHeader';\r\n\r\n\r\nconst ConfirmationModal = ({modalConfig, setModalDisplay, modalDisplay, handleDelete}) => {\r\n  const handleDeleteClick = () => {\r\n    setModalDisplay(false)\r\n    handleDelete();\r\n  }\r\n\r\n  if (modalDisplay) {\r\n    return (\r\n      <Modal show={modalDisplay} onHide={() => setModalDisplay(false)}>\r\n        <ModalHeader closeButton>\r\n          <ModalTitle>\r\n            {modalConfig.title}\r\n          </ModalTitle>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <p>{modalConfig.message}</p>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <button onClick={() => setModalDisplay(false)} type='button' className='btn btn-secondary'>\r\n            Cancel\r\n          </button>\r\n          <button onClick={() => handleDeleteClick()} className={`btn btn-${modalConfig.btnStyle}`}>\r\n            {modalConfig.btnText}\r\n          </button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    )\r\n  }\r\n  return <></>\r\n}\r\n\r\nexport default ConfirmationModal;","import React, { useState, useEffect } from 'react';\r\nimport { IconButton, SidebarProfile, SidebarChats,  } from '../../components';\r\n\r\n\r\nconst Sidebar = (props) => {\r\n  const [ activeIcon, setActiveIcon ] = useState('chats')\r\n  const icons = ['profile', 'chats']\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setActiveIcon('chats')\r\n    }\r\n  }, [props.auth])\r\n\r\n  const setCurrentIcon = (e) => {\r\n    if (e.currentTarget.id === 'profile-cta') {\r\n      setActiveIcon('profile');\r\n    }\r\n    if (e.currentTarget.id === 'chats-cta') {\r\n      setActiveIcon('chats');\r\n    }\r\n  }\r\n\r\n  const renderIcons = () => {\r\n    return icons.map(icon => {\r\n      return (\r\n        <li\r\n          id={`${icon}-cta`}\r\n          key={icon}\r\n          className='nav-item'\r\n          onClick={(e) => setCurrentIcon(e)}\r\n        >\r\n          <IconButton icon={icon} activeIcon={activeIcon} />\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  const renderSidebarContent = () => {\r\n    if (!props.auth) {\r\n      return <div>Sign In or Create an account to see available rooms and profile</div>\r\n    }\r\n\r\n    if (activeIcon === 'profile') {\r\n      return <SidebarProfile />\r\n    }\r\n    if (activeIcon === 'chats') {\r\n      return <SidebarChats />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='sidebar__content'>\r\n      <nav className='sidebar__nav'>\r\n        <div className='sidebar__row py-4'>\r\n          <h2 className='text-white'>WhatsChat</h2>\r\n        </div>\r\n        <div className='sidebar__row'>\r\n          <div className='sidebar__break'></div>\r\n        </div>\r\n        <div className='sidebar__row'>\r\n          <ul className='sidebar__list list-unstyled components py-3 mb-0'>\r\n            { renderIcons() }\r\n          </ul>\r\n        </div>\r\n        <div className='sidebar__row'>\r\n          <div className='sidebar__break'></div>\r\n        </div>\r\n        <div className='sidebar__row'>\r\n          {renderSidebarContent()}\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { SignupForm, LoginForm } from '../components';\r\nimport { userLogin, userSignup } from \"../redux/actions/auth\";\r\nimport classNames from 'classnames';\r\n\r\n\r\nconst Landing = ({ userLogin, userSignup }) => {\r\n  const [activeForm, setActiveForm] = useState('signup');\r\n\r\n  const handleSignup = (formValues) => {\r\n    userSignup(formValues)\r\n  }\r\n\r\n  const handleLogin = (formValues) => {\r\n    userLogin(formValues)\r\n  }\r\n\r\n  const updateCurrentForm = () => {\r\n    if (activeForm === 'signup') {\r\n      setActiveForm('login')\r\n    }\r\n    if (activeForm === 'login') {\r\n      setActiveForm('signup')\r\n    }\r\n  }\r\n\r\n  const renderForm = () => {\r\n    return activeForm === 'signup' ?\r\n      <SignupForm\r\n        handleForm={handleSignup}\r\n      />\r\n      :\r\n      <LoginForm\r\n        handleForm={handleLogin}\r\n      />;\r\n  }\r\n\r\n  return (\r\n    <div className='landing__area col'>\r\n      <div className='landing__container container pb-3 px-3 bg-dark'>\r\n        <div className='row mb-2'>\r\n          <div className='col p-0'>\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                                      'btn btn-large text-white w-100 p-3': true,\r\n                                      'btn-outline-dark': activeForm === 'signup',\r\n                                      'btn-secondary': activeForm === 'login'\r\n                                    })}\r\n              disabled={activeForm === 'signup'}\r\n            >\r\n              Sign Up Here!\r\n            </button>\r\n          </div>\r\n\r\n          <div className='col h-100 p-0'>\r\n            <button\r\n              onClick={() => updateCurrentForm()}\r\n              className={classNames({\r\n                                      'btn btn-large text-white w-100 p-3': true,\r\n                                      'btn-outline-dark disabled': activeForm === 'login',\r\n                                      'btn-secondary': activeForm === 'signup'\r\n                                    })}\r\n              disabled={activeForm === 'login'}\r\n            >\r\n              Log In Here!\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {renderForm()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(null, { userLogin, userSignup })(Landing);\r\n","import React, { useRef, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst ChatroomDisplay = ({ messages, auth }) => {\r\n  const messageList = useRef(null);\r\n\r\n  const autoscroll = () => {\r\n    // new message element\r\n    const newMessage = messageList.current.lastElementChild;\r\n\r\n    if (!newMessage) {return};\r\n\r\n    // get the height of the newMessage\r\n    const newMessageStyles = getComputedStyle(newMessage.lastElementChild);\r\n    const newMessageMargin = parseInt(newMessageStyles.marginBottom);\r\n    const newMessageHeight = messageList.current.offsetHeight + newMessageMargin;\r\n\r\n    // get the visible height\r\n    const visibleHeight = messageList.current.offsetHeight;\r\n\r\n    // get the message container height\r\n    const contentHeight = messageList.current.scrollHeight;\r\n\r\n    // Current scroll location\r\n    const scrollOffset = messageList.current.scrollTop + visibleHeight;\r\n\r\n    if (contentHeight - newMessageHeight <= scrollOffset) {\r\n      // this will set the scroll top position to the maximum scroll top value being the bottom of the page\r\n      messageList.current.scrollTop = messageList.current.scrollHeight;\r\n    }\r\n  };\r\n\r\n  useEffect(autoscroll, [messages.length])\r\n\r\n\r\n  const formatTimestamp = (createdAt) => {\r\n    return moment(createdAt).format('h:mm A');\r\n  }\r\n\r\n  const renderMessages = () => {\r\n    const messageKeysArray = Object.keys(messages) ;\r\n\r\n    return messageKeysArray.map(messageKey => {\r\n      const timestamp = formatTimestamp(messages[messageKey].createdAt)\r\n      if (messages[messageKey].author === 'systemManager') {\r\n        return (\r\n          <li key={Math.random()*1000} className='chat__message chat__message-system'>\r\n            <div key={messageKey} className='text-white text-left'>{messages[messageKey].message}</div>\r\n          </li>\r\n        )\r\n      }\r\n\r\n      if (messages[messageKey].userId !== auth._id) {\r\n        return (\r\n          <li key={messageKey} className='chat__messages chat__messages-rec'>\r\n            <div className=\"chat__bubble chat__bubble-rec\">\r\n              <div className={`chat__content`}>\r\n                <div className={`chat__area`}>\r\n                  <p className='chat__text chat__text-author' >\r\n                    {messages[messageKey].author}\r\n                  </p>\r\n                  <p className='chat__text chat__text-message'>{messages[messageKey].message}</p>\r\n                </div>\r\n                <div className={`chat__footer ml-1`}>\r\n                  <div className='chat__timestamp'>\r\n                    {timestamp}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        )\r\n      }\r\n\r\n      return (\r\n        <li key={messageKey} className='chat__messages chat__messages-sent'>\r\n          <div className=\"chat__bubble chat__bubble-sent\">\r\n            <div className={`chat__content`}>\r\n              <div className={`chat__area`}>\r\n                <p className='chat__text chat__text-message'>{messages[messageKey].message}</p>\r\n              </div>\r\n              <div className={`chat__footer ml-1 text-white`}>\r\n                <div className='chat__timestamp'>\r\n                  {timestamp}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className='chat__container'>\r\n      <ul className='chat__display chat__display-scroll ' ref={messageList}>\r\n        {messages ? renderMessages() : <div className='text-white'>Send a message!!</div>}\r\n      </ul>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChatroomDisplay);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchMessages } from '../../redux/actions/chat';\r\nimport { default as ChatroomDisplay } from './ChatroomDisplay';\r\n\r\n\r\nconst ChatContainer = ({ auth, chatrooms, fetchMessages }) => {\r\n  const [ message, setMessage ] = useState('');\r\n\r\n\r\n  useEffect(() => {\r\n    Object.keys(chatrooms).forEach((chatroom) => {\r\n      fetchMessages(chatroom)\r\n    })\r\n  }, [])\r\n\r\n  if (!chatrooms[auth.currentChatroom]) {\r\n    return <></>\r\n  }\r\n\r\n  const onChange = e => {\r\n    setMessage(e.target.value)\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n    // sendMessage({\r\n    //               chatRoomId,\r\n    //               message,\r\n    //               userId: auth._id,\r\n    //               author: auth.data.username\r\n    //             })\r\n    // setMessage('')\r\n  }\r\n\r\n  return (\r\n    <div className='chatroom__display bg-secondary'>\r\n      <div className='chatroom__container'>\r\n        <div className='chatroom__heading'>\r\n          <h2 className='chatroom__title'>{chatrooms[auth.currentChatroom].name}</h2>\r\n        </div>\r\n        <ChatroomDisplay messages={chatrooms[auth.currentChatroom].messages}  />\r\n        <div className='chatroom__input mb-2 mx-auto'>\r\n          <form className='w-100' >\r\n            <div className='row '>\r\n              <div className='col-10'>\r\n                <input\r\n                  className='form-control w-100'\r\n                  placeholder='Message...'\r\n                  type='text'\r\n                  value={message}\r\n                  onChange={onChange}\r\n                />\r\n              </div>\r\n              <div className='col-2'>\r\n                <button className='btn btn-md btn-outline-secondary '>\r\n                  Send\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth,\r\n    chatrooms: state.chatrooms\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchMessages })(ChatContainer);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ChatContainer } from \"../components/chats\";\r\n\r\n\r\nconst Chatroom = ({ chatrooms }) => {\r\n  const renderChatContainer = chatrooms.length !== 0 ? <ChatContainer /> : <div>Click on a chat room to enter</div>\r\n  return(\r\n    <>\r\n      {renderChatContainer}\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth,\r\n    chatrooms: state.chatrooms\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {  })(Chatroom);\r\n","import React, { useEffect } from 'react';\r\nimport { Redirect, Router, Route, Switch } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport history from './utils/history';\r\nimport Sidebar from './components/sidebar/Sidebar';\r\nimport Landing from './pages/Landing';\r\nimport Chatroom from \"./pages/Chatroom\";\r\nimport { checkAuth } from './redux/actions/auth';\r\nimport { fetchChatrooms } from './redux/actions/chat';\r\nimport './styles/bootstrap.min.css';\r\nimport './styles/styles.css'\r\n\r\n\r\nconst App = ({ auth, checkAuth, fetchChatrooms }) => {\r\n  useEffect(() => {\r\n    checkAuth()\r\n    if (auth.isLoggedIn) {\r\n      fetchChatrooms();\r\n    }\r\n  }, [auth.isLoggedIn, checkAuth, fetchChatrooms])\r\n  return (\r\n    <div className='wrapper d-flex align-items-stretch'>\r\n      <Router history={history}>\r\n        <>\r\n          <Sidebar auth={auth.isLoggedIn} />\r\n          <Switch>\r\n            <Route path='/' exact>\r\n              { auth.isLoggedIn ? <Redirect to='/chats' /> : <Landing /> }\r\n            </Route>\r\n            <Route path='/chats' >\r\n              { auth.isLoggedIn ? <Chatroom /> : <Redirect to='/' /> }\r\n            </Route>\r\n          </Switch>\r\n        </>\r\n      </Router>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    auth: state.auth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { checkAuth, fetchChatrooms })(App);\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './utils/store';\r\nimport App from './App';\r\n\r\nconsole.log('ENV:', process.env.NODE_ENV)\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}
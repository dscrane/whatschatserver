{"version":3,"sources":["redux/reducers/authReducer.js","redux/reducers/chatReducer.js","redux/reducers/index.js","redux/types.js","utils/store.js","utils/history.js","utils/api.js","utils/socket.js","redux/actions/chat/index.js","redux/actions/auth/index.js","icons/icons.jsx","components/sidebar/SidebarChats.jsx","components/sidebar/SidebarProfile.jsx","components/forms/RenderForm.jsx","components/forms/LoginForm.jsx","components/forms/SignupForm.jsx","components/forms/NewChatForm.jsx","components/IconButton.jsx","components/ConfirmationModal.jsx","components/sidebar/Sidebar.jsx","pages/Landing.jsx","components/chats/ChatroomDisplay.jsx","components/chats/ChatContainer.jsx","pages/Chatroom.jsx","App.js","index.js"],"names":["INITIAL_STATE","isLoggedIn","_id","token","currentChatroom","user","combineReducers","auth","state","action","type","payload","chatrooms","_","mapKeys","chatroomId","messages","message","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","createBrowserHistory","axios","create","baseURL","headers","socket","io","dispatchMessage","messageType","on","returnMsg","dispatch","systemMessage","profileIcon","width","height","viewBox","className","fill","xmlns","fillRule","d","chatsIcon","plusIcon","pencilIconFilled","connect","createChatroom","name","userId","a","api","post","createdBy","data","chatroom","history","push","error","setChatroom","closeChat","useState","newRoomName","setNewRoomName","onChange","e","target","value","handleForm","preventDefault","length","renderChatroomList","Object","keys","map","key","onClick","userLogout","getState","Authorization","localStorage","removeItem","userDelete","userDeleted","userUpdate","formValues","patch","response","code","alert","keyValue","username","editing","setEditing","modalDisplay","setModalDisplay","useEffect","renderInput","input","label","meta","touched","renderError","profileDisplay","src","avatar","alt","initialValues","pick","Field","component","moment","createdAt","format","tabIndex","disabled","style","modalConfig","title","btnText","btnStyle","handleDelete","reduxForm","props","onSubmit","handleSubmit","some","reset","updateValues","forEach","children","LoginForm","placeholder","required","SignupForm","NewChatForm","errorStyle","IconButton","classNames","icon","activeIcon","ConfirmationModal","Modal","show","onHide","ModalHeader","closeButton","ModalTitle","ModalBody","ModalFooter","Sidebar","setActiveIcon","icons","id","currentTarget","setCurrentIcon","userLogin","setItem","userSignup","activeForm","setActiveForm","handleSignup","handleLogin","updateCurrentForm","messageList","useRef","newMessage","current","lastElementChild","newMessageStyles","getComputedStyle","newMessageMargin","parseInt","marginBottom","newMessageHeight","offsetHeight","visibleHeight","scrollHeight","scrollTop","ref","messageKey","timestamp","author","Math","random","fetchMessages","get","joinChatroom","emit","room","sendMessage","leaveChatroom","setMessage","activeChatroom","setActiveChatroom","renderChatContainer","checkAuth","getItem","console","log","fetchChatrooms","path","exact","to","process","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.1c85b513.chunk.js","sourcesContent":["import {\n  CHECK_AUTH,\n  LOG_IN,\n  LOG_OUT,\n  SET_CHATROOM,\n  UPDATE_USER,\n} from \"../types\";\n\n// Do not modify\nconst INITIAL_STATE = {\n  isLoggedIn: false,\n  _id: null,\n  token: null,\n  currentChatroom: \"5f52268b6d59e14df8174254\",\n  user: {},\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case CHECK_AUTH:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case SET_CHATROOM:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case LOG_IN:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case LOG_OUT:\n      return {\n        ...state,\n        ...INITIAL_STATE,\n      };\n    default:\n      return state;\n  }\n};\n","import _ from \"lodash\";\nimport {\n  CREATE_CHATROOM,\n  FETCH_CHATROOMS,\n  RECEIVE_MESSAGE,\n  FETCH_MESSAGES,\n  CLOSE_CHAT,\n  LOG_OUT,\n} from \"../types\";\n\nconst INITIAL_STATE = [];\n\nexport default (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FETCH_CHATROOMS:\n      return {\n        ...state,\n        ..._.mapKeys(action.payload, \"_id\"),\n      };\n    case CREATE_CHATROOM:\n      return {\n        ...state,\n        [action.payload._id]: {\n          ...action.payload,\n        },\n      };\n    case FETCH_MESSAGES:\n      return {\n        ...state,\n        [action.payload.chatroomId]: {\n          ...state[action.payload.chatroomId],\n          messages: [\n            ...state[action.payload.chatroomId].messages,\n            ...action.payload.messages,\n          ],\n        },\n      };\n    case RECEIVE_MESSAGE:\n      return {\n        ...state,\n        [action.payload.chatroomId]: {\n          ...state[action.payload.chatroomId],\n          messages: [\n            ...state[action.payload.chatroomId].messages,\n            action.payload.message,\n          ],\n        },\n      };\n    case LOG_OUT:\n      return [...INITIAL_STATE];\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport authReducer from \"./authReducer\";\nimport chatReducer from \"./chatReducer\";\n\nexport default combineReducers({\n  auth: authReducer,\n  chatrooms: chatReducer,\n  form: formReducer,\n});\n","// Chat Action Types\nexport const CREATE_CHATROOM = \"CREATE_CHATROOM\";\nexport const FETCH_CHATROOMS = \"FETCH_CHATROOMS\";\nexport const RECEIVE_MESSAGE = \"RECEIVE_MESSAGE\";\nexport const FETCH_MESSAGES = \"FETCH_MESSAGES\";\nexport const CLOSE_CHATROOM = \"CLOSE_CHATROOM\";\nexport const SET_CHATROOM = \"SET_CHATROOM\";\n\n// Authorization Action Types\nexport const CHECK_AUTH = \"CHECK_AUTH\";\nexport const LOG_IN = \"LOG_IN\";\nexport const LOG_OUT = \"LOG_OUT\";\nexport const UPDATE_USER = \"UPDATE_USER\";\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\nimport reducers from \"../redux/reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import axios from \"axios\";\nexport default axios.create({\n  baseURL:\n    process.env.NODE_ENV === \"production\"\n      ? \"https://young-oasis-67409.herokuapp.com\"\n      : \"http://localhost:5500\",\n  headers: { \"Content-Security-Policy\": \"default-src *\" },\n});\n","import io from \"socket.io-client\";\nconst socket =\n  process.env.NODE_ENV === \"production\" ? io() : io(\"http://localhost:5500\");\n\nexport default socket;\n","import api from \"../../../utils/api\";\nimport { store } from \"../../../utils/store\";\nimport history from \"../../../utils/history\";\nimport socket from \"../../../utils/socket\";\nimport {\n  FETCH_CHATROOMS,\n  SET_CHATROOM,\n  RECEIVE_MESSAGE,\n  FETCH_MESSAGES,\n  CLOSE_CHAT,\n  CREATE_CHATROOM,\n} from \"../../types\";\n\n/* ----   FETCH_CHATROOMS ACTION CREATOR    ---- */\nexport const fetchChatrooms = () => async (dispatch, getState) => {\n  try {\n    const response = await api.get(\"/chatrooms/fetch\");\n    const chatrooms = response.data.chatrooms.map((chatroom) => {\n      const messages =\n        getState().chatrooms.length !== 0\n          ? getState().chatrooms[chatroom._id].messages\n          : [];\n      return { ...chatroom, messages: [...messages] };\n    });\n\n    dispatch({\n      type: FETCH_CHATROOMS,\n      payload: { ...chatrooms },\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n/* ----   ****    ---- */\n\n/* ----   ADD_CHATROOM ACTION CREATOR    ---- */\nexport const createChatroom = (name, userId) => async (dispatch) => {\n  try {\n    const { data } = await api.post(\"/chatrooms/create\", {\n      name,\n      createdBy: userId,\n    });\n    dispatch({\n      type: CREATE_CHATROOM,\n      payload: { ...data.chatroom, messages: [] },\n    });\n    history.push(`/chats/${data.chatroom._id}`);\n  } catch (e) {\n    dispatch({\n      type: \"ERROR\",\n      error: \"Invalid Name\",\n    });\n  }\n};\n/* ----   ****    ---- */\n\n/* ----   FETCH_MESSAGES ACTION CREATOR    ---- */\nexport const fetchMessages = (chatroomId) => async (dispatch) => {\n  const { data } = await api.get(`/messages/fetch?chatroomId=${chatroomId}`);\n  dispatch({\n    type: FETCH_MESSAGES,\n    payload: { chatroomId, messages: data.messages },\n  });\n};\n/* ----   ****    ---- */\n\n/* ----   JOIN_CHATROOM ACTION CREATOR    ---- */\nexport const joinChatroom = (chatroomId, username) => async (dispatch) => {\n  socket.emit(\"join\", { room: chatroomId, username: username }, (room) => {});\n};\n/* ----   ****    ---- */\n\n/* ----   LEAVE_CHATROOM ACTION CREATOR    ---- */\nexport const leaveChatroom = (chatroomId, username) => async (dispatch) => {\n  socket.emit(\"leave\", { room: chatroomId, username: username }, (room) => {});\n};\n/* ----   ****    ---- */\n\n/* ----   NEW_MESSAGE ACTION CREATOR    ---- */\nexport const sendMessage = ({ chatroomId, message, userId, author }) => async (\n  dispatch\n) => {\n  socket.emit(\"message\", { chatroomId, message, userId, author });\n};\n\nconst dispatchMessage = (messageType, message) => {\n  return {\n    type: messageType,\n    payload: { chatroomId: message.chatroomId, message: message },\n  };\n};\n\nsocket.on(\"return-message\", (returnMsg) => {\n  store.dispatch(dispatchMessage(RECEIVE_MESSAGE, returnMsg));\n});\n\nsocket.on(\"system-message\", (systemMessage) => {\n  store.dispatch(dispatchMessage(RECEIVE_MESSAGE, systemMessage));\n});\n/* ----   ****    ---- */\n","import api from \"../../../utils/api\";\nimport history from \"../../../utils/history\";\nimport { CHECK_AUTH, LOG_OUT, SET_CHATROOM, UPDATE_USER } from \"../../types\";\n\n/* ----   CHECK_AUTH ACTION CREATOR    ---- */\nexport const checkAuth = () => async (dispatch) => {\n  const token = localStorage.getItem(\"jwt-token\");\n  console.log(token);\n  if (!token) {\n    return dispatch({\n      type: CHECK_AUTH,\n      payload: {\n        isLoggedIn: false,\n        token: null,\n      },\n    });\n  }\n\n  const response = await api.get(\"/users/fetch\", {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      token,\n      _id: response.data._id,\n      isLoggedIn: true,\n      user: response.data.user,\n    },\n  });\n};\n/* ----   ****    ---- */\n\n/* ----   SIGN_UP ACTION CREATOR    ---- */\nexport const userSignup = (formValues) => async (dispatch) => {\n  const response = await api.post(\"/users/create\", { ...formValues });\n\n  if (response.data.error) {\n    const error = response.data.error;\n    if (error.code === 11000) {\n      alert(\n        `The username \"${error.keyValue.username}\" has already been taken.`\n      );\n    }\n    return;\n  }\n\n  localStorage.setItem(\"jwt-token\", response.data.token);\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      _id: response.data.user._id,\n      token: response.data.token,\n      isLoggedIn: true,\n      data: response.data.user,\n    },\n  });\n\n  history.push(`/chats`);\n};\n/* ----   ****    ---- */\n\n/* ----   LOG_IN ACTION CREATOR    ---- */\nexport const userLogin = (formValues) => async (dispatch) => {\n  const response = await api.post(\"/users/login\", { ...formValues });\n\n  await localStorage.setItem(\"jwt-token\", response.data.token);\n\n  dispatch({\n    type: CHECK_AUTH,\n    payload: {\n      _id: response.data.user._id,\n      token: response.data.token,\n      user: response.data.user,\n      isLoggedIn: true,\n    },\n  });\n\n  history.push(\"/chats\");\n};\n/* ----   ****    ---- */\n\n/* ----   LOG_OUT ACTION CREATOR    ---- */\nexport const userLogout = () => async (dispatch, getState) => {\n  const { token } = getState().auth;\n\n  await api.post(\n    \"/users/logout\",\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n  await localStorage.removeItem(\"jwt-token\");\n\n  dispatch({\n    type: LOG_OUT,\n  });\n\n  history.push(\"/\");\n};\n/* ----   ****    ---- */\n\n/* ----   UPDATE_USER ACTION CREATOR    ---- */\nexport const userUpdate = (formValues) => async (dispatch, getState) => {\n  const { token } = getState().auth;\n  const response = await api.patch(\n    \"./users/update\",\n    { ...formValues },\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  if (response.data.error) {\n    const error = response.data.error;\n    if (error.code === 11000) {\n      alert(\n        `The username \"${error.keyValue.username}\" has already been taken.`\n      );\n    }\n    return;\n  }\n\n  dispatch({\n    type: UPDATE_USER,\n    payload: response.data.user,\n  });\n};\n\n/* ----   ****    ---- */\n\n/* ----   DELETE_USER ACTION CREATOR    ---- */\nexport const userDelete = () => async (dispatch, getState) => {\n  const { token } = getState().auth;\n  const response = await api.post(\n    \"/users/delete\",\n    {},\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n\n  if (response.data.userDeleted) {\n    await localStorage.removeItem(\"jwt-token\");\n    dispatch({\n      type: LOG_OUT,\n    });\n    history.push(\"/\");\n  }\n};\n\n/* ----   SET_CHATROOM ACTION CREATOR    ---- */\nexport const setChatroom = (currentChatroom) => async (dispatch) => {\n  dispatch({\n    type: SET_CHATROOM,\n    payload: { currentChatroom },\n  });\n};\n/* ----   ****    ---- */\n","import React from \"react\";\n\nexport const profileIcon = (\n  <svg\n    width=\"1.2em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-person\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\"\n    />\n  </svg>\n);\n\nexport const chatsIcon = (\n  <svg\n    width=\"1.2em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-chat-right-text\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2 1h12a1 1 0 0 1 1 1v11.586l-2-2A2 2 0 0 0 11.586 11H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"\n    />\n  </svg>\n);\n\nexport const avatarIcon = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-person-fill\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"\n    />\n  </svg>\n);\n\nexport const plusIcon = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-plus-square\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"\n    />\n    <path\n      fillRule=\"evenodd\"\n      d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"\n    />\n  </svg>\n);\n\nexport const pencilIcon = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"icon__pencil bi bi-pencil\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"\n    />\n  </svg>\n);\n\nexport const pencilIconFilled = (\n  <svg\n    width=\"1em\"\n    height=\"1em\"\n    viewBox=\"0 0 16 16\"\n    className=\"bi bi-pencil-fill\"\n    fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"\n    />\n  </svg>\n);\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport history from \"../../utils/history\";\nimport { NewChatForm } from \"../../components\";\nimport { createChatroom } from \"../../redux/actions/chat\";\nimport { setChatroom } from \"../../redux/actions/auth\";\nimport { profileIcon } from \"../../icons/icons\";\n\nconst SidebarChats = ({\n  auth,\n  chatrooms,\n  setChatroom,\n  createChatroom,\n  closeChat,\n}) => {\n  const [newRoomName, setNewRoomName] = useState(\"\");\n\n  const handleClose = (key) => {\n    closeChat(key);\n  };\n\n  const onChange = (e) => {\n    setNewRoomName(e.target.value);\n  };\n\n  const handleForm = (e) => {\n    e.preventDefault();\n    if (newRoomName.length >= 5) {\n      createChatroom(newRoomName, auth._id);\n      setNewRoomName(\"\");\n    }\n  };\n\n  const renderChatroom = (chatroomId) => {\n    setChatroom(chatroomId);\n    history.push(`/chats/${chatroomId}`);\n  };\n\n  const renderChatroomList = () => {\n    if (chatrooms === {}) {\n      return;\n    }\n    return Object.keys(chatrooms).map((key) => {\n      return (\n        <li key={key} className=\"chatroom__item\">\n          <div className=\"chatroom__icon col-2 my-auto text-secondary\">\n            {profileIcon}\n          </div>\n          <div className=\"col-8 px-0\">\n            <div className=\"col text-center text-white\">\n              <div\n                onClick={() => renderChatroom(key)}\n                className=\"chatroom__chatroom\"\n              >\n                {\" \"}\n                {/*used to be the LINK tag*/}\n                <div className=\"col text-left\">{chatrooms[key].name}</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"chatroom__cta-col\">\n            <button className=\"chatroom__cta-close p-0 text-secondary\">\n              <p className=\"chatroom__close\">&#128473;</p>\n            </button>\n          </div>\n        </li>\n      );\n    });\n  };\n\n  const renderSidebarChats = () => {\n    return (\n      <ul className=\"chatroom__list list-unstyled\">\n        <li className=\"chatroom__new\">\n          <NewChatForm\n            handleForm={handleForm}\n            onChange={onChange}\n            newRoomName={newRoomName}\n          />\n        </li>\n        {renderChatroomList()}\n      </ul>\n    );\n  };\n\n  return <div className=\"chatroom__list\">{renderSidebarChats()}</div>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    chatrooms: state.chatrooms,\n  };\n};\n\nexport default connect(mapStateToProps, { createChatroom, setChatroom })(\n  SidebarChats\n);\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport _ from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { Field } from \"redux-form\";\nimport { ConfirmationModal, RenderForm } from \"../../components\";\nimport { userLogout, userDelete, userUpdate } from \"../../redux/actions/auth\";\nimport { pencilIconFilled } from \"../../icons/icons\";\n\nconst SidebarProfile = ({ auth, userLogout, userUpdate, userDelete }) => {\n  const [editing, setEditing] = useState(\"\");\n  const [modalDisplay, setModalDisplay] = useState(false);\n\n  useEffect(() => {}, [auth.user]);\n\n  const modalConfig = {\n    title: \"Delete Account\",\n    message: \"Are you sure you want to delete your account?\",\n    btnText: \"Delete\",\n    btnStyle: \"danger\",\n  };\n\n  const handleDelete = () => {\n    userDelete();\n  };\n\n  const handleForm = (formValues) => {\n    userUpdate(formValues);\n    setEditing(\"\");\n  };\n\n  const renderError = ({ error, touched }) => {\n    if (touched && error) {\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      );\n    }\n  };\n\n  const renderInput = ({ input, label, meta }) => {\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\n    return (\n      <li className=\"list-group-item px-3\">\n        <div\n          className={`row justify-content-between align-items-center ${className}`}\n        >\n          <div className=\"col-3 text-left p-0\">\n            <label className=\"m-auto font-weight-bold\">{label}</label>\n          </div>\n          <div className=\"col-7\">\n            {editing === label ? (\n              <input className=\"form-control text-left\" {...input} />\n            ) : (\n              <input className=\"form-control-plaintext text-left\" {...input} />\n            )}\n          </div>\n          <div\n            onClick={() => setEditing(label)}\n            className=\"profile__edit col-1\"\n          >\n            {pencilIconFilled}\n          </div>\n          {renderError(meta)}\n        </div>\n      </li>\n    );\n  };\n\n  const profileCard = () => {\n    return (\n      <>\n        <div className=\"card profile__card\">\n          <div className=\"card-img-top d-flex justify-content-center\">\n            <img\n              className=\"mt-3\"\n              src={`data:image/png;base64,${auth.user.avatar}`}\n              height=\"150\"\n              width=\"150\"\n              alt=\"avatar\"\n            />\n          </div>\n          <div className=\"card-body\">\n            <RenderForm\n              handleForm={handleForm}\n              initialValues={_.pick(\n                auth.user,\n                \"name\",\n                \"username\",\n                \"email\",\n                \"password\"\n              )}\n            >\n              <ul className=\"list-group list-group-flush\">\n                <Field name=\"name\" component={renderInput} label=\"Name\" />\n                <Field\n                  name=\"username\"\n                  component={renderInput}\n                  label=\"Username\"\n                />\n                <Field name=\"email\" component={renderInput} label=\"Email\" />\n                <Field\n                  name=\"password\"\n                  component={renderInput}\n                  label=\"Password\"\n                />\n                <li className=\"list-group-item\">\n                  <div className=\"row justify-content-around\">\n                    <div className=\"col text-center\">\n                      User Since:{\" \"}\n                      {moment(auth.user.createdAt).format(\"MMM 'YY\")}\n                    </div>\n                  </div>\n                </li>\n              </ul>\n              <input type=\"submit\" className=\"profile__submit\" tabIndex=\"-1\" />\n            </RenderForm>\n            <ul className=\"list-group list-group-flush\">\n              <li className=\"list-group-item m-auto\">\n                <button\n                  onClick={() => {\n                    userLogout();\n                  }}\n                  className=\"btn btn-secondary mt-2\"\n                >\n                  Log Out\n                </button>\n              </li>\n              <li className=\"list-group-item m-auto\">\n                <button\n                  onClick={() => setModalDisplay(true)}\n                  className=\"btn btn-danger\"\n                  disabled={auth.user._id === \"5f637fdd0a41ae691c828e50\"}\n                >\n                  Delete Account\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  const profileDisplay = profileCard();\n\n  return (\n    <div className=\"d-flex flex-column m-3\" style={{ width: \"90%\" }}>\n      {profileDisplay}\n      <ConfirmationModal\n        modalConfig={modalConfig}\n        setModalDisplay={setModalDisplay}\n        modalDisplay={modalDisplay}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps, { userLogout, userDelete, userUpdate })(\n  SidebarProfile\n);\n","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\n\nconst RenderForm = (props) => {\n  const handleForm = (formValues) => {\n    const { initialValues } = props;\n\n    if (!initialValues) {\n      return props.handleForm(formValues);\n    }\n\n    const valuesToValidate = Object.keys(formValues);\n    if (valuesToValidate.some((value) => formValues[value] === \"\")) {\n      props.reset();\n    }\n\n    let updateValues = {};\n    Object.keys(initialValues).forEach((value) => {\n      if (initialValues[value] !== formValues[value]) {\n        updateValues = { ...updateValues, [value]: formValues[value] };\n      }\n    });\n    props.handleForm(updateValues);\n  };\n\n  return (\n    <form\n      onSubmit={props.handleSubmit(handleForm)}\n      className=\"form-signin mt-2\"\n    >\n      {props.children}\n    </form>\n  );\n};\n\nexport default reduxForm({ form: \"userForm\" })(RenderForm);\n","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport RenderForm from \"./RenderForm\";\n\nconst LoginForm = (props) => {\n  const renderInput = ({ input, label, type }) => {\n    return (\n      <div>\n        <label className=\"text-white text-left my-2\">{label}</label>\n        <input\n          className=\"form-control\"\n          placeholder={label}\n          {...input}\n          type={type}\n          required\n        />\n      </div>\n    );\n  };\n\n  const handleForm = (formValues) => {\n    props.handleForm(formValues);\n  };\n\n  return (\n    <RenderForm handleForm={handleForm}>\n      <div className=\"ui stacked element\">\n        <Field\n          name=\"username\"\n          component={renderInput}\n          label=\"Username\"\n          type=\"text\"\n        />\n        <Field\n          name=\"password\"\n          component={renderInput}\n          label=\"Password\"\n          type=\"password\"\n        />\n        <button className=\"btn btn-md btn-secondary btn-block my-4 mx-auto w-25\">\n          Submit\n        </button>\n      </div>\n      <div className=\"d-flex w-100 justify-content-center text-white\">\n        <div className=\"col\">\n          <p className=\"m-0 p-0\">Sample User Credentials</p>\n          <p className=\"m-0 p-0\">Username: sampleuser</p>\n          <p className=\"m-0 p-0\">Password: examplepass000</p>\n        </div>\n      </div>\n    </RenderForm>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\nimport { Field } from \"redux-form\";\nimport RenderForm from \"./RenderForm\";\n\nconst SignupForm = (props) => {\n  const renderInput = ({ input, label, type }) => {\n    return (\n      <div>\n        <label className=\"text-white text-left my-2\">{label}</label>\n        <input\n          className=\"form-control\"\n          type={type}\n          placeholder={label}\n          {...input}\n          required\n        />\n      </div>\n    );\n  };\n\n  const handleForm = (formValues) => {\n    props.handleForm(formValues);\n  };\n\n  return (\n    <RenderForm handleForm={handleForm}>\n      <Field name=\"name\" component={renderInput} label=\"Name\" type=\"text\" />\n      <Field\n        name=\"username\"\n        component={renderInput}\n        label=\"Username\"\n        type=\"text\"\n      />\n      <Field name=\"email\" component={renderInput} label=\"Email\" type=\"email\" />\n      <Field\n        name=\"password\"\n        component={renderInput}\n        label=\"Password\"\n        type=\"password\"\n      />\n      <Field\n        name=\"passwordConf\"\n        component={renderInput}\n        label=\"Confirm Password\"\n        type=\"password\"\n      />\n      <button className=\"btn btn-md btn-secondary btn-block mt-4 mx-auto w-50\">\n        Submit\n      </button>\n    </RenderForm>\n  );\n};\n\nexport default SignupForm;\n","import React from \"react\";\nimport { plusIcon } from \"../../icons/icons\";\n\nconst NewChatForm = (props) => {\n  const onChange = (e) => {\n    props.onChange(e);\n  };\n\n  const handleForm = (e) => {\n    props.handleForm(e);\n  };\n\n  const errorStyle =\n    props.newRoomName.length < 5 && props.newRoomName.length !== 0\n      ? \"is-invalid\"\n      : null;\n\n  return (\n    <form className=\"w-100\" onSubmit={handleForm}>\n      <div className=\"chatroom__form\">\n        <div className=\"col-10\">\n          <input\n            onChange={onChange}\n            className={`form-control ${errorStyle}`}\n            type=\"text\"\n            placeholder={\"Create Chat Room....\"}\n            name=\"chatForm\"\n            required\n          />\n        </div>\n        <div className=\"d-flex justify-content-end col-2 mx-auto\">\n          <button type=\"submit\" className=\"chatroom__cta-new btn p-0\">\n            <div className=\"chatroom__new-cta text-secondary\">{plusIcon}</div>\n          </button>\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default NewChatForm;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { profileIcon, chatsIcon } from \"../icons/icons\";\n\nconst IconButton = (props) => {\n  const renderIcon = () => {\n    if (props.icon === \"profile\") {\n      return profileIcon;\n    }\n    if (props.icon === \"chats\") {\n      return chatsIcon;\n    }\n  };\n  return (\n    <button\n      className={classNames(\"icon__button\", \"btn btn-outline-dark p-0\", {\n        \"text-white\": props.icon === props.activeIcon,\n        \"text-secondary\": props.icon !== props.activeIcon,\n      })}\n      disabled={props.icon === props.activeIcon}\n    >\n      {renderIcon()}\n    </button>\n  );\n};\n\nexport default IconButton;\n","import React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport ModalFooter from \"react-bootstrap/ModalFooter\";\nimport ModalBody from \"react-bootstrap/ModalBody\";\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\n\nconst ConfirmationModal = ({\n  modalConfig,\n  setModalDisplay,\n  modalDisplay,\n  handleDelete,\n}) => {\n  const handleDeleteClick = () => {\n    setModalDisplay(false);\n    handleDelete();\n  };\n\n  if (modalDisplay) {\n    return (\n      <Modal show={modalDisplay} onHide={() => setModalDisplay(false)}>\n        <ModalHeader closeButton>\n          <ModalTitle>{modalConfig.title}</ModalTitle>\n        </ModalHeader>\n        <ModalBody>\n          <p>{modalConfig.message}</p>\n        </ModalBody>\n        <ModalFooter>\n          <button\n            onClick={() => setModalDisplay(false)}\n            type=\"button\"\n            className=\"btn btn-secondary\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={() => handleDeleteClick()}\n            className={`btn btn-${modalConfig.btnStyle}`}\n          >\n            {modalConfig.btnText}\n          </button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n  return <></>;\n};\n\nexport default ConfirmationModal;\n","import React, { useState, useEffect } from \"react\";\nimport { IconButton, SidebarProfile, SidebarChats } from \"../../components\";\n\nconst Sidebar = (props) => {\n  const [activeIcon, setActiveIcon] = useState(\"chats\");\n  const icons = [\"profile\", \"chats\"];\n\n  useEffect(() => {\n    return () => {\n      setActiveIcon(\"chats\");\n    };\n  }, [props.auth]);\n\n  const setCurrentIcon = (e) => {\n    if (e.currentTarget.id === \"profile-cta\") {\n      setActiveIcon(\"profile\");\n    }\n    if (e.currentTarget.id === \"chats-cta\") {\n      setActiveIcon(\"chats\");\n    }\n  };\n\n  const renderIcons = () => {\n    return icons.map((icon) => {\n      return (\n        <li\n          id={`${icon}-cta`}\n          key={icon}\n          className=\"nav-item\"\n          onClick={(e) => setCurrentIcon(e)}\n        >\n          <IconButton icon={icon} activeIcon={activeIcon} />\n        </li>\n      );\n    });\n  };\n\n  const renderSidebarContent = () => {\n    if (!props.auth) {\n      return (\n        <div>\n          Sign In or Create an account to see available rooms and profile\n        </div>\n      );\n    }\n\n    if (activeIcon === \"profile\") {\n      return <SidebarProfile />;\n    }\n    if (activeIcon === \"chats\") {\n      return <SidebarChats />;\n    }\n  };\n\n  return (\n    <div className=\"sidebar__content\">\n      <nav className=\"sidebar__nav\">\n        <div className=\"sidebar__row py-4\">\n          <h2 className=\"text-white\">WhatsChat</h2>\n        </div>\n        <div className=\"sidebar__row\">\n          <div className=\"sidebar__break\"></div>\n        </div>\n        <div className=\"sidebar__row\">\n          <ul className=\"sidebar__list list-unstyled components py-3 mb-0\">\n            {renderIcons()}\n          </ul>\n        </div>\n        <div className=\"sidebar__row\">\n          <div className=\"sidebar__break\"></div>\n        </div>\n        <div className=\"sidebar__row\">{renderSidebarContent()}</div>\n      </nav>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { SignupForm, LoginForm } from \"../components\";\nimport { userLogin, userSignup } from \"../redux/actions/auth\";\nimport classNames from \"classnames\";\n\nconst Landing = ({ userLogin, userSignup }) => {\n  const [activeForm, setActiveForm] = useState(\"signup\");\n\n  const handleSignup = (formValues) => {\n    userSignup(formValues);\n  };\n\n  const handleLogin = (formValues) => {\n    userLogin(formValues);\n  };\n\n  const updateCurrentForm = () => {\n    if (activeForm === \"signup\") {\n      setActiveForm(\"login\");\n    }\n    if (activeForm === \"login\") {\n      setActiveForm(\"signup\");\n    }\n  };\n\n  const renderForm = () => {\n    return activeForm === \"signup\" ? (\n      <SignupForm handleForm={handleSignup} />\n    ) : (\n      <LoginForm handleForm={handleLogin} />\n    );\n  };\n\n  return (\n    <div className=\"landing__area col\">\n      <div className=\"landing__container container pb-3 px-3 bg-dark\">\n        <div className=\"row mb-2\">\n          <div className=\"col p-0\">\n            <button\n              onClick={() => updateCurrentForm()}\n              className={classNames({\n                \"btn btn-large text-white w-100 p-3\": true,\n                \"btn-outline-dark\": activeForm === \"signup\",\n                \"btn-secondary\": activeForm === \"login\",\n              })}\n              disabled={activeForm === \"signup\"}\n            >\n              Sign Up Here!\n            </button>\n          </div>\n\n          <div className=\"col h-100 p-0\">\n            <button\n              onClick={() => updateCurrentForm()}\n              className={classNames({\n                \"btn btn-large text-white w-100 p-3\": true,\n                \"btn-outline-dark disabled\": activeForm === \"login\",\n                \"btn-secondary\": activeForm === \"signup\",\n              })}\n              disabled={activeForm === \"login\"}\n            >\n              Log In Here!\n            </button>\n          </div>\n        </div>\n        {renderForm()}\n      </div>\n    </div>\n  );\n};\n\nexport default connect(null, { userLogin, userSignup })(Landing);\n","import React, { useRef, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\n\nconst ChatroomDisplay = ({ messages, auth }) => {\n  const messageList = useRef(null);\n\n  const autoscroll = () => {\n    // new message element\n    const newMessage = messageList.current.lastElementChild;\n\n    if (!newMessage) {\n      return;\n    }\n\n    // get the height of the newMessage\n    const newMessageStyles = getComputedStyle(newMessage.lastElementChild);\n    const newMessageMargin = parseInt(newMessageStyles.marginBottom);\n    const newMessageHeight =\n      messageList.current.offsetHeight + newMessageMargin;\n\n    // get the visible height\n    const visibleHeight = messageList.current.offsetHeight;\n\n    // get the message container height\n    const contentHeight = messageList.current.scrollHeight;\n\n    // Current scroll location\n    const scrollOffset = messageList.current.scrollTop + visibleHeight;\n\n    if (contentHeight - newMessageHeight <= scrollOffset) {\n      // this will set the scroll top position to the maximum scroll top value being the bottom of the page\n      messageList.current.scrollTop = messageList.current.scrollHeight;\n    }\n  };\n\n  useEffect(autoscroll, [messages.length]);\n\n  const formatTimestamp = (createdAt) => {\n    return moment(createdAt).format(\"h:mm A\");\n  };\n\n  const renderMessages = () => {\n    const messageKeysArray = Object.keys(messages);\n\n    return messageKeysArray.map((messageKey) => {\n      const timestamp = formatTimestamp(messages[messageKey].createdAt);\n      if (messages[messageKey].author === \"systemManager\") {\n        return (\n          <li\n            key={Math.random() * 1000}\n            className=\"chat__messages chat__messages-system\"\n          >\n            <div key={messageKey} className=\"text-left\">\n              {messages[messageKey].message}\n            </div>\n          </li>\n        );\n      }\n\n      if (messages[messageKey].userId !== auth._id) {\n        return (\n          <li key={messageKey} className=\"chat__messages chat__messages-rec\">\n            <div className=\"chat__bubble chat__bubble-rec\">\n              <div className={`chat__content`}>\n                <div className={`chat__area`}>\n                  <p className=\"chat__text chat__text-author\">\n                    {messages[messageKey].author}\n                  </p>\n                  <p className=\"chat__text chat__text-message\">\n                    {messages[messageKey].message}\n                  </p>\n                </div>\n                <div className={`chat__footer ml-1`}>\n                  <div className=\"chat__timestamp\">{timestamp}</div>\n                </div>\n              </div>\n            </div>\n          </li>\n        );\n      }\n\n      return (\n        <li key={messageKey} className=\"chat__messages chat__messages-sent\">\n          <div className=\"chat__bubble chat__bubble-sent\">\n            <div className={`chat__content`}>\n              <div className={`chat__area`}>\n                <p className=\"chat__text chat__text-message\">\n                  {messages[messageKey].message}\n                </p>\n              </div>\n              <div className={`chat__footer ml-1 text-white`}>\n                <div className=\"chat__timestamp\">{timestamp}</div>\n              </div>\n            </div>\n          </div>\n        </li>\n      );\n    });\n  };\n\n  return (\n    <div className=\"chat__container\">\n      <ul className=\"chat__display chat__display-scroll \" ref={messageList}>\n        {messages ? (\n          renderMessages()\n        ) : (\n          <div className=\"text-white\">Send a message!!</div>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps)(ChatroomDisplay);\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  fetchMessages,\n  joinChatroom,\n  sendMessage,\n  leaveChatroom,\n} from \"../../redux/actions/chat\";\nimport { default as ChatroomDisplay } from \"./ChatroomDisplay\";\n\nconst ChatContainer = ({\n  auth,\n  chatrooms,\n  fetchMessages,\n  joinChatroom,\n  sendMessage,\n  leaveChatroom,\n}) => {\n  const [message, setMessage] = useState(\"\");\n  const [activeChatroom, setActiveChatroom] = useState(auth.currentChatroom);\n\n  useEffect(() => {\n    Object.keys(chatrooms).forEach((chatroom) => {\n      fetchMessages(chatroom);\n    });\n  }, []);\n\n  useEffect(() => {\n    leaveChatroom(activeChatroom, auth.user.username);\n    joinChatroom(auth.currentChatroom, auth.user.username);\n    setActiveChatroom(auth.currentChatroom);\n  }, [auth.currentChatroom, auth.user.username]);\n\n  if (!chatrooms[auth.currentChatroom]) {\n    return <></>;\n  }\n\n  const onChange = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    sendMessage({\n      message,\n      chatroomId: auth.currentChatroom,\n      userId: auth._id,\n      author: auth.user.username,\n    });\n    setMessage(\"\");\n  };\n\n  return (\n    <div className=\"chatroom__display bg-secondary\">\n      <div className=\"chatroom__container\">\n        <div className=\"chatroom__heading\">\n          <h2 className=\"chatroom__title\">\n            {chatrooms[auth.currentChatroom].name}\n          </h2>\n        </div>\n        <ChatroomDisplay messages={chatrooms[auth.currentChatroom].messages} />\n        <div className=\"chatroom__input mb-2 mx-auto\">\n          <form onSubmit={onSubmit} className=\"w-100\">\n            <div className=\"row \">\n              <div className=\"col-10\">\n                <input\n                  className=\"form-control w-100\"\n                  placeholder=\"Message...\"\n                  type=\"text\"\n                  value={message}\n                  onChange={onChange}\n                />\n              </div>\n              <div className=\"col-2\">\n                <button className=\"btn btn-md btn-outline-secondary \">\n                  Send\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    chatrooms: state.chatrooms,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchMessages,\n  joinChatroom,\n  sendMessage,\n  leaveChatroom,\n})(ChatContainer);\n","import React, { useEffect } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { ChatContainer } from \"../components/chats\";\n\nconst Chatroom = ({ chatrooms }) => {\n  const renderChatContainer =\n    chatrooms.length !== 0 ? (\n      <ChatContainer />\n    ) : (\n      <div>Click on a chat room to enter</div>\n    );\n  return <>{renderChatContainer}</>;\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    chatrooms: state.chatrooms,\n  };\n};\n\nexport default connect(mapStateToProps, {})(Chatroom);\n","import React, { useEffect } from \"react\";\nimport { Redirect, Router, Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport history from \"./utils/history\";\nimport Sidebar from \"./components/sidebar/Sidebar\";\nimport Landing from \"./pages/Landing\";\nimport Chatroom from \"./pages/Chatroom\";\nimport { checkAuth } from \"./redux/actions/auth\";\nimport { fetchChatrooms } from \"./redux/actions/chat\";\nimport \"./styles/bootstrap.min.css\";\nimport \"./styles/styles.css\";\n\nconst App = ({ auth, checkAuth, fetchChatrooms }) => {\n  useEffect(() => checkAuth(), []);\n  useEffect(() => {\n    checkAuth();\n    if (auth.isLoggedIn) {\n      fetchChatrooms();\n    }\n  }, [auth.isLoggedIn, checkAuth, fetchChatrooms]);\n  return (\n    <div className=\"wrapper d-flex align-items-stretch\">\n      <Router history={history}>\n        <>\n          <Sidebar auth={auth.isLoggedIn} />\n          <Switch>\n            <Route path=\"/\" exact>\n              {auth.isLoggedIn ? <Redirect to=\"/chats\" /> : <Landing />}\n            </Route>\n            <Route path=\"/chats\">\n              {auth.isLoggedIn ? <Chatroom /> : <Redirect to=\"/\" />}\n            </Route>\n          </Switch>\n        </>\n      </Router>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n  };\n};\n\nexport default connect(mapStateToProps, { checkAuth, fetchChatrooms })(App);\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './utils/store';\r\nimport App from './App';\r\n\r\nconsole.log('ENV:', process.env.NODE_ENV)\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}